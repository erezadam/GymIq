# ×¤×¨×•×™×§×˜: ×¡×˜×™× ××•××œ×¦×™× (Exercise Sets)
# ×”× ×—×™×•×ª ×œ×¡×•×›×Ÿ - ×’×¨×¡×” ××œ××”

---

## ğŸ¯ ××˜×¨×ª ×”×¤×¨×•×™×§×˜

×™×¦×™×¨×ª ×™×›×•×œ×ª ×œ××“××™× ×™× ×œ×”×’×“×™×¨ ×¡×˜×™× ××•×›× ×™× ×©×œ ×ª×¨×’×™×œ×™×, ×•×œ××©×ª××©×™× ×œ×‘×—×•×¨ ×¡×˜ ×©×œ× ×‘××”×™×¨×•×ª ×‘××§×•× ×œ×‘×—×•×¨ ×ª×¨×’×™×œ×™× ××—×“-××—×“.

---

## ğŸ“‹ ×ª× ××™ ×¤×ª×™×—×” ×œ×›×œ ×©×œ×‘

```
×§×¨× ××ª ×§×•×‘×¥ CLAUDE.md ×‘×ª×™×§×™×™×ª ×”×¤×¨×•×™×§×˜ ×•×”×¦×”×¨ ×©×§×¨××ª ××•×ª×• ×œ×¤× ×™ ×©×ª×ª×—×™×œ ×œ×¢×‘×•×“
```

---

## ğŸš¨ ×›×œ×œ×™ ×‘×¨×–×œ

1. **×œ× ×œ×©× ×•×ª ×—×ª×™××•×ª ×¤×•× ×§×¦×™×•×ª ×§×™×™××•×ª** - ×¨×§ ×œ×”×•×¡×™×£
2. **×œ×”×©×ª××© ×‘-tokens.ts** - ×œ× hardcoded colors/spacing
3. **×œ×‘×“×•×§ ×¨×’×¨×¡×™×•×ª** - ××—×¨×™ ×›×œ ×©×™× ×•×™ ×‘×§×•×‘×¥ ×§×™×™×
4. **×œ×‘×“×•×§ ××•×‘×™×™×œ** - 375px ××—×¨×™ ×›×œ ×©×™× ×•×™ UI
5. **RTL** - ×›×œ ×”×˜×§×¡×˜×™× ×‘×¢×‘×¨×™×ª, direction: rtl
6. **Deploy ××—×“ ×‘×¡×•×£** - ×œ× deploy ××—×¨×™ ×›×œ ×©×œ×‘!

---

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×” (×œ×›×œ ×©×œ×‘)

```
ğŸ¯ Goal: [××©×¤×˜ ××—×“ - ××” ×”××˜×¨×”]
ğŸ Done: [××™×š ×™×•×“×¢×™× ×©×¡×™×™×× ×• - ×§×¨×™×˜×¨×™×•×Ÿ ×‘×¨×•×¨]
ğŸ“ Files: [×¨×©×™××ª ×§×‘×¦×™× ×œ×™×¦×™×¨×”/×¢×“×›×•×Ÿ]
âš ï¸ Dependencies: [××” ×™×•×©×¤×¢ ××”×©×™× ×•×™ - ×§×‘×¦×™×/×¤×•× ×§×¦×™×•×ª ××—×¨×•×ª]
```

---

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ×›×œ ×©×œ×‘)

```
ğŸ“‹ Summary:
- Changed: [××” ×”×©×ª× ×” - ×§×‘×¦×™× ×•×©×•×¨×•×ª]
- Tested: [××” × ×‘×“×§ - ×¨×©×™××ª ×‘×“×™×§×•×ª ×©×¢×‘×¨×•]
- Next: [×”×©×œ×‘ ×”×‘×]

ğŸ” Security: [×‘×“×™×§×ª rules ×× ×¨×œ×•×•× ×˜×™ / N/A]
```

---

## ğŸ§ª ×ª×”×œ×™×š ×‘×“×™×§×•×ª

### ××—×¨×™ ×›×œ ×©×™× ×•×™:
```bash
npm run dev
```
- [ ] ×‘×“×™×§×” ××§×•××™×ª ×‘×“×¤×“×¤×Ÿ
- [ ] ×‘×“×™×§×” ×‘-375px (mobile)
- [ ] RTL ×ª×§×™×Ÿ

### ××—×¨×™ ×©×œ×‘ 1 (×ª×©×ª×™×ª):
- [ ] Firebase Emulator ×œ×‘×“×™×§×ª rules
- [ ] CRUD ×¢×•×‘×“ ××”×§×•× ×¡×•×œ

### ×œ×¤× ×™ Deploy (×¨×§ ××—×¨×™ ×©×œ×‘ 6!):
```bash
npm run build  # ×—×™×™×‘ ×œ×¢×‘×•×¨ ×‘×œ×™ errors
```
- [ ] ×‘×“×™×§×ª ×¨×’×¨×¡×™×” ××œ××” ××§×•××™×ª
- [ ] E2E ××œ× ×¢×•×‘×¨ ××§×•××™×ª
- [ ] Deploy ××—×“ ×‘×œ×‘×“
- [ ] ×‘×“×™×§×” ×¢×œ Production

### âŒ ××” ×œ× ×œ×¢×©×•×ª:
- ×œ× ×œ×¢×©×•×ª deploy ××—×¨×™ ×›×œ ×©×œ×‘
- ×œ× ×œ×”×¡×ª××š ×¢×œ "×–×” ×××•×¨ ×œ×¢×‘×•×“"
- ×œ× ×œ×“×œ×’ ×¢×œ ×‘×“×™×§×•×ª ×›×™ "×”×©×™× ×•×™ ×§×˜×Ÿ"

---

# ×©×œ×‘ 0: ×©×™× ×•×™ UI ×©×•×¨×ª ×”×‘×—×™×¨×” (Toggle Row)

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×œ×©× ×•×ª ××ª ×©×•×¨×ª ×‘×—×™×¨×ª ×”××¦×‘ ×œ-3 ×›×¤×ª×•×¨×™× ×‘×©×•×¨×” ××—×ª (×¢×›×©×™×•/×œ×”×™×•×/×ª××¨×™×š)
ğŸ Done: 3 ×›×¤×ª×•×¨×™× ××•×¦×’×™× ×‘×©×•×¨×”, ×›×œ ××—×“ ×¢×•×‘×“, Mobile 375px ×ª×§×™×Ÿ
ğŸ“ Files: 
   - ×¢×“×›×•×Ÿ: src/domains/exercises/components/ExerciseLibrary.tsx
âš ï¸ Dependencies: 
   - workoutBuilderStore (×œ×•×’×™×§×ª ×”××¦×‘)
   - ×œ× ×œ×©× ×•×ª ××ª ×”×œ×•×’×™×§×” - ×¨×§ ××ª ×”-UI
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/mobile-rtl-SKILL.md
×§×¨×: .claude/development-flow-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×œ×©× ×•×ª ××ª ×©×•×¨×ª ×‘×—×™×¨×ª ×”××¦×‘ (×”×ª×—×œ ×¢×›×©×™×• / ×ª×›× ×Ÿ ×œ×”×™×•× / ×‘×—×¨ ×ª××¨×™×š) ×œ×©×•×¨×” ××—×ª ×§×•××¤×§×˜×™×ª.

## ğŸ“ ×§×•×‘×¥ ×œ×©×™× ×•×™
```
src/domains/exercises/components/ExerciseLibrary.tsx
```

## ğŸ¨ ×¢×™×¦×•×‘ × ×“×¨×©

**××¦×‘ × ×•×›×—×™ (×œ×¤×™ ×”×¡×§×¨×™× ×©×•×˜):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“… ×‘×—×¨ ×ª××¨×™×š ×œ××™××•×Ÿ: 27 ×‘×™× ×•' 2026                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â—‰ ×”×ª×—×œ ×¢×›×©×™×•]         [â—‹ ×ª×›× ×Ÿ ×œ×”×™×•×]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**××¦×‘ ×—×“×©:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â—‰ ×¢×›×©×™×•]    [â—‹ ×œ×”×™×•×]    [â—‹ ğŸ“… ×ª××¨×™×š]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ××¤×¨×˜ ×¢×™×¦×•×‘

### Container
```typescript
{
  display: 'flex',
  gap: '8px',
  background: tokens.colors.bgCard,  // #0d1f35
  borderRadius: '14px',
  padding: '6px',
  border: `1px solid ${tokens.colors.borderLight}`,  // rgba(255,255,255,0.1)
}
```

### ×›×¤×ª×•×¨×™× - 3 ×›×¤×ª×•×¨×™× ×©×•×•×™×
```typescript
// ×›×œ ×›×¤×ª×•×¨
{
  flex: 1,
  padding: '12px 4px',
  borderRadius: '10px',
  border: 'none',
  fontSize: '13px',
  fontWeight: '600',
  display: 'flex',
  alignItems: 'center',
  justifyContent: 'center',
  gap: '6px',
}

// Radio circle
{
  width: '16px',
  height: '16px',
  borderRadius: '50%',
  border: '2px solid [color]',
}
```

### ×¦×‘×¢×™× ×œ×¤×™ ××¦×‘

| ××¦×‘ | ×¦×‘×¢ ×¨×§×¢ (selected) | ×¦×‘×¢ ×˜×§×¡×˜ | ×¦×‘×¢ Radio |
|-----|-------------------|----------|-----------|
| **×¢×›×©×™×•** | rgba(0,191,165,0.1) | #00bfa5 (primary) | #00bfa5 |
| **×œ×”×™×•×** | rgba(249,115,22,0.1) | #f97316 (secondary) | #f97316 |
| **ğŸ“… ×ª××¨×™×š** | rgba(167,139,250,0.1) | #a78bfa | #a78bfa |

### ×”×ª× ×”×’×•×ª
1. **"×¢×›×©×™×•"** - ×‘×¨×™×¨×ª ××—×“×œ, ×œ× ××¦×™×’ ×ª××¨×™×š
2. **"×œ×”×™×•×"** - ×©×•××¨ ××™××•×Ÿ ××ª×•×›× ×Ÿ ×œ×”×™×•×
3. **"ğŸ“… ×ª××¨×™×š"** - ×œ×—×™×¦×” ×¤×•×ª×—×ª date picker
   - ××—×¨×™ ×‘×—×™×¨×ª ×ª××¨×™×š: ××¦×™×’ ××ª ×”×ª××¨×™×š ×©× ×‘×—×¨ ×‘××§×•× "ğŸ“… ×ª××¨×™×š"
   - ×œ×“×•×’××”: "28 ×‘×™× ×•'"

### ×›×¤×ª×•×¨ ×ª×—×ª×•×Ÿ ××©×ª× ×”

| ××¦×‘ | ×˜×§×¡×˜ ×›×¤×ª×•×¨ |
|-----|------------|
| ×¢×›×©×™×• | "×”×ª×—×œ ××™××•×Ÿ (X)" |
| ×œ×”×™×•× | "×©××•×¨ ×œ×”×™×•× (X)" |
| ×ª××¨×™×š | "×©××•×¨ ××™××•×Ÿ (X)" |

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 0

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 0 - Toggle Row

### ×¤×•× ×§×¦×™×•× ×œ×™×•×ª
- [ ] ×œ×—×™×¦×” ×¢×œ "×¢×›×©×™×•" ×‘×•×—×¨×ª ××ª ×”××¦×‘
- [ ] ×œ×—×™×¦×” ×¢×œ "×œ×”×™×•×" ×‘×•×—×¨×ª ××ª ×”××¦×‘
- [ ] ×œ×—×™×¦×” ×¢×œ "ğŸ“… ×ª××¨×™×š" ×¤×•×ª×—×ª date picker
- [ ] ××—×¨×™ ×‘×—×™×¨×ª ×ª××¨×™×š - ××•×¦×’ ×‘×›×¤×ª×•×¨
- [ ] ×›×¤×ª×•×¨ ×ª×—×ª×•×Ÿ ××©×ª× ×” ×œ×¤×™ ×”××¦×‘

### UI
- [ ] 3 ×›×¤×ª×•×¨×™× ×‘××•×ª×• ×¨×•×—×‘
- [ ] Radio button ××•×¦×’ × ×›×•×Ÿ (×¨×™×§/××œ×)
- [ ] ×¦×‘×¢×™× × ×›×•× ×™× ×œ×¤×™ ××¦×‘
- [ ] Mobile 375px - ×œ× × ×—×ª×š/×’×•×œ×©

### ×¨×’×¨×¡×™×”
- [ ] ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™× ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×”×ª×—×œ×ª ××™××•×Ÿ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×©××™×¨×ª ××™××•×Ÿ ××ª×•×›× ×Ÿ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
```

## ğŸ”´ ××” ×œ× ×œ×’×¢×ª
- ×œ×•×’×™×§×ª ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
- ×œ×•×’×™×§×ª ×”×ª×—×œ×ª ××™××•×Ÿ
- ×¤×™×œ×˜×¨×™× ×§×™×™××™×

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 1 - ×ª×©×ª×™×ª Firebase

ğŸ” Security: N/A (×©×™× ×•×™ UI ×‘×œ×‘×“)
```

---

# ×©×œ×‘ 1: ×ª×©×ª×™×ª Firebase

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×™×¦×™×¨×ª ×ª×©×ª×™×ª ×”× ×ª×•× ×™× ×œ×¡×˜×™× - Types, Firebase Service, Storage Service, Security Rules
ğŸ Done: CRUD ×¢×•×‘×“, Rules ×××¤×©×¨×™× read ×œ×›×•×œ× ×•-write ×¨×§ ×œ××“××™×Ÿ, ×”×¢×œ××ª ×ª××•× ×” ×¢×•×‘×“×ª
ğŸ“ Files: 
   - ×—×“×©: src/domains/exercises/types/exerciseSet.types.ts
   - ×—×“×©: src/lib/firebase/exerciseSets.ts
   - ×—×“×©: src/lib/firebase/exerciseSetStorage.ts
   - ×¢×“×›×•×Ÿ: firestore.rules
   - ×¢×“×›×•×Ÿ: storage.rules
âš ï¸ Dependencies: 
   - ExerciseCategory ×-types ×§×™×™×
   - Firebase config ×§×™×™×
   - isAdmin() function ×§×™×™××ª ×‘-rules
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/firebase-data-SKILL.md
×§×¨×: .claude/development-flow-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×™×¦×™×¨×ª ×ª×©×ª×™×ª ×”× ×ª×•× ×™× ×œ×¡×˜×™×: Types, Firebase Service, Storage Service, Security Rules.

## ğŸ“ ×§×‘×¦×™× ×—×“×©×™× ×œ×™×¦×™×¨×”

### 1. Types - `src/domains/exercises/types/exerciseSet.types.ts`

```typescript
import { Timestamp } from 'firebase/firestore';
import { ExerciseCategory } from './exercise.types'; // ×•×•×“× ×©×–×” ×”× ×ª×™×‘ ×”× ×›×•×Ÿ

export type ExerciseSetDifficulty = 'beginner' | 'intermediate' | 'advanced';

export interface ExerciseSet {
  id: string;
  name: string;                    // ×©× ×‘×¢×‘×¨×™×ª (×¨××©×™)
  nameEn?: string;                 // ×©× ×‘×× ×’×œ×™×ª (××•×¤×¦×™×•× ×œ×™)
  muscleGroup: ExerciseCategory;   // ×©×™××•×© ×‘×˜×™×™×¤ ×”×§×™×™×!
  exerciseIds: string[];           // ××–×”×™ ×ª×¨×’×™×œ×™× ×-exercises collection
  setImage: string;                // URL ×-Firebase Storage
  description?: string;
  difficulty: ExerciseSetDifficulty;
  order: number;                   // ×¡×“×¨ ×”×¦×’×” ×‘×ª×•×š ×§×‘×•×¦×ª ×”×©×¨×™×¨
  isActive: boolean;
  createdAt: Timestamp;
  updatedAt: Timestamp;
  createdBy: string;               // UID ×©×œ ×”××“××™×Ÿ ×©×™×¦×¨
}

export interface ExerciseSetFormData {
  name: string;
  nameEn?: string;
  muscleGroup: ExerciseCategory;
  exerciseIds: string[];
  setImage: string;
  description?: string;
  difficulty: ExerciseSetDifficulty;
  isActive: boolean;
}

export const DIFFICULTY_LABELS: Record<ExerciseSetDifficulty, string> = {
  beginner: '××ª×—×™×œ×™×',
  intermediate: '×‘×™× ×•× ×™',
  advanced: '××ª×§×“××™×',
};

export const DIFFICULTY_COLORS: Record<ExerciseSetDifficulty, string> = {
  beginner: '#4ade80',
  intermediate: '#fbbf24',
  advanced: '#f97316',
};
```

### 2. Firebase Service - `src/lib/firebase/exerciseSets.ts`

```typescript
import {
  collection,
  doc,
  getDocs,
  getDoc,
  addDoc,
  updateDoc,
  deleteDoc,
  query,
  where,
  orderBy,
  Timestamp,
  writeBatch,
} from 'firebase/firestore';
import { db } from './config';
import { ExerciseSet, ExerciseSetFormData } from '@/domains/exercises/types/exerciseSet.types';

const COLLECTION_NAME = 'exerciseSets';

// ×§×‘×œ×ª ×›×œ ×”×¡×˜×™× ×”×¤×¢×™×œ×™×
export const getActiveSets = async (muscleGroup?: string): Promise<ExerciseSet[]> => {
  let q = query(
    collection(db, COLLECTION_NAME),
    where('isActive', '==', true),
    orderBy('muscleGroup'),
    orderBy('order', 'asc')
  );

  const snapshot = await getDocs(q);
  const sets = snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  })) as ExerciseSet[];

  // ×¡×™× ×•×Ÿ ×œ×¤×™ muscleGroup ×‘×¦×“ ×”×œ×§×•×— (×¤×©×•×˜ ×™×•×ª×¨ ×-compound query)
  if (muscleGroup && muscleGroup !== 'all') {
    return sets.filter(set => set.muscleGroup === muscleGroup);
  }

  return sets;
};

// ×§×‘×œ×ª ×›×œ ×”×¡×˜×™× (×œ××“××™×Ÿ)
export const getAllSets = async (): Promise<ExerciseSet[]> => {
  const q = query(
    collection(db, COLLECTION_NAME),
    orderBy('muscleGroup'),
    orderBy('order', 'asc')
  );

  const snapshot = await getDocs(q);
  return snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  })) as ExerciseSet[];
};

// ×§×‘×œ×ª ×¡×˜ ×‘×•×“×“
export const getSetById = async (setId: string): Promise<ExerciseSet | null> => {
  const docRef = doc(db, COLLECTION_NAME, setId);
  const snapshot = await getDoc(docRef);
  
  if (!snapshot.exists()) return null;
  
  return {
    id: snapshot.id,
    ...snapshot.data()
  } as ExerciseSet;
};

// ×™×¦×™×¨×ª ×¡×˜ ×—×“×©
export const createSet = async (
  data: ExerciseSetFormData,
  userId: string
): Promise<string> => {
  // ×—×™×©×•×‘ order - ××§×¡×™××•× +1 ×‘×§×‘×•×¦×ª ×”×©×¨×™×¨
  const existingSets = await getActiveSets(data.muscleGroup);
  const maxOrder = existingSets.reduce((max, set) => Math.max(max, set.order), 0);

  const docRef = await addDoc(collection(db, COLLECTION_NAME), {
    ...data,
    order: maxOrder + 1,
    createdAt: Timestamp.now(),
    updatedAt: Timestamp.now(),
    createdBy: userId,
  });

  return docRef.id;
};

// ×¢×“×›×•×Ÿ ×¡×˜
export const updateSet = async (
  setId: string,
  data: Partial<ExerciseSetFormData>
): Promise<void> => {
  const docRef = doc(db, COLLECTION_NAME, setId);
  await updateDoc(docRef, {
    ...data,
    updatedAt: Timestamp.now(),
  });
};

// ××—×™×§×ª ×¡×˜ (soft delete)
export const deleteSet = async (setId: string): Promise<void> => {
  const docRef = doc(db, COLLECTION_NAME, setId);
  await updateDoc(docRef, {
    isActive: false,
    updatedAt: Timestamp.now(),
  });
};

// ××—×™×§×” ×§×©×” (×œ××“××™×Ÿ)
export const hardDeleteSet = async (setId: string): Promise<void> => {
  const docRef = doc(db, COLLECTION_NAME, setId);
  await deleteDoc(docRef);
};

// ×¢×“×›×•×Ÿ ×¡×“×¨ ×¡×˜×™× (××—×¨×™ drag & drop)
export const updateSetsOrder = async (
  updates: Array<{ id: string; order: number }>
): Promise<void> => {
  const batch = writeBatch(db);
  
  updates.forEach(({ id, order }) => {
    const docRef = doc(db, COLLECTION_NAME, id);
    batch.update(docRef, { 
      order,
      updatedAt: Timestamp.now()
    });
  });

  await batch.commit();
};

// Toggle isActive
export const toggleSetActive = async (
  setId: string,
  isActive: boolean
): Promise<void> => {
  const docRef = doc(db, COLLECTION_NAME, setId);
  await updateDoc(docRef, {
    isActive,
    updatedAt: Timestamp.now(),
  });
};
```

### 3. Storage Service - `src/lib/firebase/exerciseSetStorage.ts`

```typescript
import {
  ref,
  uploadBytes,
  getDownloadURL,
  deleteObject,
} from 'firebase/storage';
import { storage } from './config';

const STORAGE_FOLDER = 'exercise-sets';
const MAX_FILE_SIZE = 2 * 1024 * 1024; // 2MB
const ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/webp'];

export interface ImageValidationResult {
  valid: boolean;
  error?: string;
}

// ×•×•×œ×™×“×¦×™×” ×©×œ ×§×•×‘×¥ ×ª××•× ×”
export const validateImageFile = (file: File): ImageValidationResult => {
  if (!ALLOWED_TYPES.includes(file.type)) {
    return {
      valid: false,
      error: '×¡×•×’ ×§×•×‘×¥ ×œ× × ×ª××š. ×™×© ×œ×”×¢×œ×•×ª JPG, PNG ××• WebP',
    };
  }

  if (file.size > MAX_FILE_SIZE) {
    return {
      valid: false,
      error: '×”×§×•×‘×¥ ×’×“×•×œ ××“×™. ×’×•×“×œ ××§×¡×™××œ×™: 2MB',
    };
  }

  return { valid: true };
};

// ×”×¢×œ××ª ×ª××•× ×”
export const uploadExerciseSetImage = async (
  file: File,
  setId: string
): Promise<string> => {
  const validation = validateImageFile(file);
  if (!validation.valid) {
    throw new Error(validation.error);
  }

  const timestamp = Date.now();
  const extension = file.name.split('.').pop() || 'jpg';
  const fileName = `${setId}_${timestamp}.${extension}`;
  const storageRef = ref(storage, `${STORAGE_FOLDER}/${fileName}`);

  await uploadBytes(storageRef, file);
  const downloadURL = await getDownloadURL(storageRef);

  return downloadURL;
};

// ××—×™×§×ª ×ª××•× ×”
export const deleteExerciseSetImage = async (imageUrl: string): Promise<void> => {
  try {
    // ×—×™×œ×•×¥ ×”path ××”-URL
    const url = new URL(imageUrl);
    const pathMatch = url.pathname.match(/exercise-sets%2F([^?]+)/);
    
    if (pathMatch) {
      const fileName = decodeURIComponent(pathMatch[1]);
      const storageRef = ref(storage, `${STORAGE_FOLDER}/${fileName}`);
      await deleteObject(storageRef);
    }
  } catch (error) {
    // ×× ×”×ª××•× ×” ×œ× ×§×™×™××ª, ×œ× ×œ×–×¨×•×§ ×©×’×™××”
    console.warn('Failed to delete image:', error);
  }
};

// ×”×—×œ×¤×ª ×ª××•× ×” (××—×™×§×” + ×”×¢×œ××”)
export const replaceExerciseSetImage = async (
  file: File,
  setId: string,
  oldImageUrl?: string
): Promise<string> => {
  // ××—×™×§×ª ×”×ª××•× ×” ×”×™×©× ×” ×× ×§×™×™××ª
  if (oldImageUrl) {
    await deleteExerciseSetImage(oldImageUrl);
  }

  // ×”×¢×œ××ª ×”×ª××•× ×” ×”×—×“×©×”
  return uploadExerciseSetImage(file, setId);
};
```

### 4. Security Rules - ×”×•×¡×¤×” ×œ-`firestore.rules`

```javascript
// ============ EXERCISE SETS ============
// ××™×§×•×: ×œ×¤× ×™ ×”×¡×’×™×¨×” ×”××—×¨×•× ×” ×©×œ match /databases/{database}/documents

match /exerciseSets/{setId} {
  // ×›×•×œ× ×™×›×•×œ×™× ×œ×§×¨×•×
  allow read: if true;
  
  // ×¨×§ ××“××™×Ÿ ×™×›×•×œ ×œ×›×ª×•×‘
  allow create, update, delete: if isAdmin();
}
```

### 5. Storage Rules - ×”×•×¡×¤×” ×œ-`storage.rules`

```javascript
// ============ EXERCISE SET IMAGES ============
match /exercise-sets/{imageId} {
  allow read: if true;
  allow write: if request.auth != null && isAdmin();
}
```

### 6. Firestore Index

×™×¦×™×¨×ª ××™× ×“×§×¡ (×× × ×“×¨×© - Firestore ×™×•×“×™×¢ ×‘×©×’×™××”):
```
Collection: exerciseSets
Fields: muscleGroup ASC, order ASC
```

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 1

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 1 - ×ª×©×ª×™×ª

### Types
- [ ] ××™×Ÿ ×©×’×™××•×ª TypeScript
- [ ] ExerciseCategory ××™×•×‘× × ×›×•×Ÿ

### Firebase Service
- [ ] getActiveSets ××—×–×™×¨ ××¢×¨×š ×¨×™×§ (××™×Ÿ × ×ª×•× ×™× ×¢×“×™×™×Ÿ)
- [ ] getAllSets ××—×–×™×¨ ××¢×¨×š ×¨×™×§
- [ ] createSet ×™×•×¦×¨ document ×‘-Firestore
- [ ] updateSet ××¢×“×›×Ÿ document
- [ ] toggleSetActive ×¢×•×‘×“

### Storage Service
- [ ] validateImageFile ××–×”×” ×§×‘×¦×™× ×œ× ×ª×§×™× ×™×
- [ ] validateImageFile ×××©×¨ ×§×‘×¦×™× ×ª×§×™× ×™×

### Security Rules
- [ ] Deploy ×©×œ rules ×¢×‘×¨ ×‘×”×¦×œ×—×”
- [ ] ××©×ª××© ×¨×’×™×œ ×™×›×•×œ ×œ×§×¨×•× exerciseSets
- [ ] ××©×ª××© ×¨×’×™×œ ×œ× ×™×›×•×œ ×œ×›×ª×•×‘ exerciseSets
- [ ] ××“××™×Ÿ ×™×›×•×œ ×œ×§×¨×•× ×•×œ×›×ª×•×‘

### ×¨×’×¨×¡×™×”
- [ ] ×”××¤×œ×™×§×¦×™×” ×¢×•×œ×” ×‘×œ×™ ×©×’×™××•×ª
- [ ] ×¤×•× ×§×¦×™×•× ×œ×™×•×ª ×§×™×™××ª ×œ× × ×¤×’×¢×”
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 2 - ××“××™×Ÿ ×¤×× ×œ ×¨×©×™××”

ğŸ” Security: 
- [ ] Rules deployed ×‘×”×¦×œ×—×”
- [ ] ××©×ª××© ×¨×’×™×œ ×œ× ×™×›×•×œ ×œ×›×ª×•×‘ (×‘×“×™×§×” ×‘-Emulator)
```

---

# ×©×œ×‘ 2: ××“××™×Ÿ ×¤×× ×œ - ×¨×©×™××” ×¢× Drag & Drop

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×™×¦×™×¨×ª ×¢××•×“ × ×™×”×•×œ ×¡×˜×™× ×‘××“××™×Ÿ ×¢× ×¨×©×™××” ×•-Drag & Drop ×œ×©×™× ×•×™ ×¡×“×¨
ğŸ Done: ×¢××•×“ /admin/sets × ×˜×¢×Ÿ, ××¦×™×’ ×¡×˜×™×, Drag & Drop ××©× ×” ×¡×“×¨ ×•×©×•××¨
ğŸ“ Files: 
   - ×—×“×©: src/pages/admin/ExerciseSetsPage.tsx
   - ×—×“×©: src/domains/admin/components/ExerciseSetManager.tsx
   - ×¢×“×›×•×Ÿ: src/App.tsx (route)
   - ×¢×“×›×•×Ÿ: AdminLayout ××• ×ª×¤×¨×™×˜ ××“××™×Ÿ
âš ï¸ Dependencies: 
   - exerciseSets service ××©×œ×‘ 1
   - @dnd-kit/core (×œ×‘×“×•×§ ×× ××•×ª×§×Ÿ, ×× ×œ× - ×œ×”×ª×§×™×Ÿ)
   - Pattern ×©×œ BandTypeManager.tsx
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/development-flow-SKILL.md
×§×¨×: .claude/mobile-rtl-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×™×¦×™×¨×ª ×¢××•×“ × ×™×”×•×œ ×¡×˜×™× ×‘××“××™×Ÿ ×¢× ×™×›×•×œ×ª Drag & Drop ×œ×©×™× ×•×™ ×¡×“×¨.

## ğŸ“ ×§×‘×¦×™× ×œ×¢×“×›×•×Ÿ

### 1. ×”×•×¡×¤×ª Route - `src/App.tsx`

××¦× ××ª ×”routes ×©×œ ××“××™×Ÿ ×•×”×•×¡×£:
```typescript
// ×‘×ª×•×š routes ×©×œ ××“××™×Ÿ
{
  path: 'sets',
  element: <ExerciseSetsPage />,
}
```

### 2. ×”×•×¡×¤×” ×œ×ª×¤×¨×™×˜ - `src/domains/admin/components/AdminLayout.tsx` (××• ×©× ×“×•××”)

××¦× ××ª ×ª×¤×¨×™×˜ ×”××“××™×Ÿ ×•×”×•×¡×£:
```typescript
// ×‘×ª×•×š navigation items
{
  path: '/admin/sets',
  label: '× ×™×”×•×œ ×¡×˜×™×',
  icon: 'ğŸ¯', // ××• ××™×™×§×•×Ÿ ××ª××™×
}
```

## ğŸ“ ×§×‘×¦×™× ×—×“×©×™× ×œ×™×¦×™×¨×”

### 1. ×¢××•×“ - `src/pages/admin/ExerciseSetsPage.tsx`

```typescript
import { ExerciseSetManager } from '@/domains/admin/components/ExerciseSetManager';

export default function ExerciseSetsPage() {
  return <ExerciseSetManager />;
}
```

### 2. ×§×•××¤×•× × ×˜×” ×¨××©×™×ª - `src/domains/admin/components/ExerciseSetManager.tsx`

**×¢×§×•×‘ ××—×¨×™ Pattern ×©×œ:** `BandTypeManager.tsx` ××• ×§×•××¤×•× × ×˜×ª × ×™×”×•×œ ×“×•××” ×§×™×™××ª.

**×™×›×•×œ×•×ª:**
- ×˜×¢×™× ×ª ×›×œ ×”×¡×˜×™× (getAllSets)
- ×”×¦×’×” ×‘×˜×‘×œ×”/×¨×©×™××”
- ×¤×™×œ×˜×¨ ×œ×¤×™ ×§×‘×•×¦×ª ×©×¨×™×¨
- ×¤×™×œ×˜×¨ "×¤×¢×™×œ×™× ×‘×œ×‘×“"
- Toggle ×œ-isActive
- Drag & Drop ×œ×©×™× ×•×™ ×¡×“×¨
- ×›×¤×ª×•×¨ "+ ×”×•×¡×£ ×¡×˜"
- ×œ×—×™×¦×” ×¢×œ ×©×•×¨×” = ×¤×ª×™×—×ª ×˜×•×¤×¡ ×¢×¨×™×›×”

**××‘× ×” UI:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  × ×™×”×•×œ ×¡×˜×™×                        [+ ×”×•×¡×£ ×¡×˜]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ×§×‘×•×¦×ª ×©×¨×™×¨: [×”×›×œ â–¼]    [â˜‘ ×¤×¢×™×œ×™× ×‘×œ×‘×“]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜° â”‚ [img] â”‚ ×›×ª×¤×™×™× ×‘×¡×™×¡×™ â”‚ ×›×ª×¤×™×™× â”‚ 4 â”‚ âœ“ â”‚ âœï¸ ğŸ—‘ï¸ â”‚
â”‚  â˜° â”‚ [img] â”‚ ×›×ª×¤×™×™× ××ª×§×“× â”‚ ×›×ª×¤×™×™× â”‚ 5 â”‚ âœ“ â”‚ âœï¸ ğŸ—‘ï¸ â”‚
â”‚  â˜° â”‚ [img] â”‚ ×—×–×” ×‘×¡×™×¡×™    â”‚ ×—×–×”    â”‚ 4 â”‚ âœ“ â”‚ âœï¸ ğŸ—‘ï¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Drag & Drop:**
- ×”×©×ª××© ×‘-`@dnd-kit/core` ×•-`@dnd-kit/sortable` (×× ×›×‘×¨ ××•×ª×§×Ÿ)
- ×× ×œ× ××•×ª×§×Ÿ: `npm install @dnd-kit/core @dnd-kit/sortable`
- ××—×¨×™ ×©×—×¨×•×¨: ×§×¨×™××” ×œ-`updateSetsOrder`

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 2

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 2 - ××“××™×Ÿ ×¨×©×™××”

### × ×™×•×•×˜
- [ ] Route /admin/sets × ×˜×¢×Ÿ
- [ ] ××•×¤×™×¢ ×‘×ª×¤×¨×™×˜ ×”××“××™×Ÿ
- [ ] × ×™×ª×Ÿ ×œ× ×•×•×˜ ××”×ª×¤×¨×™×˜

### ×ª×¦×•×’×”
- [ ] ××¦×™×’ "××™×Ÿ ×¡×˜×™×" ×›×©××™×Ÿ × ×ª×•× ×™×
- [ ] ×˜×‘×œ×”/×¨×©×™××” ××•×¦×’×ª ×›×©×™×© × ×ª×•× ×™×
- [ ] ×ª××•× ×•×ª × ×˜×¢× ×•×ª

### ×¤×™×œ×˜×¨×™×
- [ ] ×¤×™×œ×˜×¨ ×§×‘×•×¦×ª ×©×¨×™×¨ ×¢×•×‘×“
- [ ] ×¤×™×œ×˜×¨ "×¤×¢×™×œ×™× ×‘×œ×‘×“" ×¢×•×‘×“

### ×¤×¢×•×œ×•×ª
- [ ] Toggle isActive ×¢×•×‘×“
- [ ] Drag & Drop ××©× ×” ×¡×“×¨
- [ ] ×¡×“×¨ × ×©××¨ ×œ-Firestore ××—×¨×™ drop
- [ ] ×›×¤×ª×•×¨ "+ ×”×•×¡×£ ×¡×˜" ×¤×•×ª×— ×˜×•×¤×¡ (×¨×™×§ ×‘×©×œ×‘ ×–×”)

### ×¨×’×¨×¡×™×”
- [ ] × ×™×”×•×œ ×ª×¨×’×™×œ×™× ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] × ×™×”×•×œ ×¦×™×•×“ ×¢×“×™×™×Ÿ ×¢×•×‘×“
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 3 - ×˜×•×¤×¡ ××“××™×Ÿ

ğŸ” Security: N/A (××©×ª××© ×‘-rules ××©×œ×‘ 1)
```

---

# ×©×œ×‘ 3: ××“××™×Ÿ ×¤×× ×œ - ×˜×•×¤×¡ ×™×¦×™×¨×”/×¢×¨×™×›×”

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×™×¦×™×¨×ª ×˜×•×¤×¡ ×œ×™×¦×™×¨×” ×•×¢×¨×™×›×” ×©×œ ×¡×˜×™×, ×›×•×œ×œ ×”×¢×œ××ª ×ª××•× ×” ×•×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
ğŸ Done: ×™×¦×™×¨×ª ×¡×˜ ×—×“×© ×¢×•×‘×“×ª, ×¢×¨×™×›×” ×¢×•×‘×“×ª, ×ª××•× ×” ×¢×•×œ×” ×œ-Storage
ğŸ“ Files: 
   - ×—×“×©: src/domains/admin/components/ExerciseSetForm.tsx
   - ×—×“×©: src/domains/admin/components/ExerciseSetExercisePicker.tsx
   - ×—×“×©: src/domains/admin/components/ExerciseSetImageUpload.tsx
âš ï¸ Dependencies: 
   - exerciseSetStorage service ××©×œ×‘ 1
   - react-hook-form + zod (×œ×‘×“×•×§ Pattern ×‘-ExerciseForm.tsx)
   - exercises collection ×œ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/development-flow-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×™×¦×™×¨×ª ×˜×•×¤×¡ ×œ×™×¦×™×¨×” ×•×¢×¨×™×›×” ×©×œ ×¡×˜×™×, ×›×•×œ×œ ×”×¢×œ××ª ×ª××•× ×” ×•×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×.

## ğŸ“ ×§×‘×¦×™× ×—×“×©×™× ×œ×™×¦×™×¨×”

### 1. ×˜×•×¤×¡ ×¨××©×™ - `src/domains/admin/components/ExerciseSetForm.tsx`

**×¢×§×•×‘ ××—×¨×™ Pattern ×©×œ:** `ExerciseForm.tsx` (react-hook-form + zod)

**Validation Schema:**
```typescript
import { z } from 'zod';

export const exerciseSetSchema = z.object({
  name: z.string().min(2, '×©× ×—×•×‘×” - ××™× ×™××•× 2 ×ª×•×•×™×'),
  nameEn: z.string().optional(),
  muscleGroup: z.enum([
    'chest', 'back', 'legs', 'shoulders', 'arms', 
    'core', 'cardio', 'functional', 'stretching', 'warmup'
  ], { required_error: '×™×© ×œ×‘×—×•×¨ ×§×‘×•×¦×ª ×©×¨×™×¨' }),
  exerciseIds: z.array(z.string()).min(2, '×™×© ×œ×‘×—×•×¨ ×œ×¤×—×•×ª 2 ×ª×¨×’×™×œ×™×'),
  setImage: z.string().min(1, '×™×© ×œ×”×¢×œ×•×ª ×ª××•× ×”'),
  description: z.string().optional(),
  difficulty: z.enum(['beginner', 'intermediate', 'advanced'], {
    required_error: '×™×© ×œ×‘×—×•×¨ ×¨××ª ×§×•×©×™'
  }),
  isActive: z.boolean().default(true),
});
```

**××‘× ×” UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ×™×¦×™×¨×ª ×¡×˜ ×—×“×©                              [X]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ×©× ×”×¡×˜ *                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚  ×§×‘×•×¦×ª ×©×¨×™×¨ *                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                           [â–¼] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚  ×¨××ª ×§×•×©×™ *                                        â”‚
â”‚  [â—‰ ××ª×—×™×œ×™×]  [â—‹ ×‘×™× ×•× ×™]  [â—‹ ××ª×§×“××™×]              â”‚
â”‚                                                     â”‚
â”‚  ×ª×™××•×¨ (××•×¤×¦×™×•× ×œ×™)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚  ×ª××•× ×ª ×¡×˜ * (×¨××” ExerciseSetImageUpload)           â”‚
â”‚                                                     â”‚
â”‚  ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™× * (×¨××” ExerciseSetExercisePicker)   â”‚
â”‚                                                     â”‚
â”‚  [â˜‘ ×¤×¢×™×œ]                                          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ×‘×™×˜×•×œ     â”‚  â”‚         ×©××•×¨ ×¡×˜             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ×”×¢×œ××ª ×ª××•× ×” - `src/domains/admin/components/ExerciseSetImageUpload.tsx`

**×™×›×•×œ×•×ª:**
- Drag & Drop zone
- ×œ×—×™×¦×” ×œ×‘×—×™×¨×ª ×§×•×‘×¥
- ×•×•×œ×™×“×¦×™×”: max 2MB, jpg/png/webp
- Preview ×©×œ ×”×ª××•× ×”
- ×›×¤×ª×•×¨ ×”×—×œ×¤×”/××—×™×§×”
- Loading state ×‘×–××Ÿ ×”×¢×œ××”

**××‘× ×” UI:**
```
// ××¦×‘ ×¨×™×§
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚         ğŸ“· ×’×¨×•×¨ ×ª××•× ×” ×œ×›××Ÿ ××• ×œ×—×¥ ×œ×‘×—×™×¨×”         â”‚
â”‚         JPG, PNG, WebP â€¢ ×¢×“ 2MB                   â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

// ××¦×‘ ×¢× ×ª××•× ×”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [=============== ×ª××•× ×” ===============]          â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  ×”×—×œ×£    â”‚  â”‚   ××—×§    â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™× - `src/domains/admin/components/ExerciseSetExercisePicker.tsx`

**×™×›×•×œ×•×ª:**
- ×—×™×¤×•×© ×ª×¨×’×™×œ×™×
- ×¤×™×œ×˜×¨ ×œ×¤×™ ×§×‘×•×¦×ª ×©×¨×™×¨
- ×”×¦×’×ª ×ª×¨×’×™×œ×™× ×–××™× ×™×
- ×”×¦×’×ª ×ª×¨×’×™×œ×™× × ×‘×—×¨×™×
- Drag & Drop ×œ×©×™× ×•×™ ×¡×“×¨ ×”×ª×¨×’×™×œ×™× ×‘×¡×˜
- ×”×•×¡×¤×”/×”×¡×¨×” ×©×œ ×ª×¨×’×™×œ×™×

**××‘× ×” UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ×—×¤×© ×ª×¨×’×™×œ...                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×ª×¨×’×™×œ×™× × ×‘×—×¨×™× (4):                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â˜° [img] ×œ×—×™×¦×ª ×›×ª×¤×™×™×                  [X]  â”‚   â”‚
â”‚ â”‚ â˜° [img] ×”×¨××” ×¦×™×“×™×ª                    [X]  â”‚   â”‚
â”‚ â”‚ â˜° [img] ×”×¨××” ×§×“××™×ª                    [X]  â”‚   â”‚
â”‚ â”‚ â˜° [img] ×¤×¨×¤×¨ ×”×¤×•×š                     [X]  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×ª×¨×’×™×œ×™× ×–××™× ×™×:  [×›×ª×¤×™×™× â–¼]                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [img] ××¨× ×•×œ×“ ×¤×¨×¡                  [+ ×”×•×¡×£]  â”‚   â”‚
â”‚ â”‚ [img] ×©×¨×’×¡                        [+ ×”×•×¡×£]  â”‚   â”‚
â”‚ â”‚ [img] ×¤×™×™×¡ ×¤×•×œ                    [+ ×”×•×¡×£]  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 3

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 3 - ×˜×•×¤×¡ ××“××™×Ÿ

### ×˜×•×¤×¡ ×‘×¡×™×¡×™
- [ ] ×˜×•×¤×¡ × ×¤×ª×— ×œ×œ×—×™×¦×” ×¢×œ "+ ×”×•×¡×£ ×¡×˜"
- [ ] ×˜×•×¤×¡ × ×¤×ª×— ×œ×œ×—×™×¦×” ×¢×œ ×©×•×¨×” ×§×™×™××ª (××¦×‘ ×¢×¨×™×›×”)
- [ ] ×›×œ ×”×©×“×•×ª ××•×¦×’×™×
- [ ] Validation ×¢×•×‘×“ (×©×“×•×ª ×—×•×‘×”)
- [ ] ×”×•×“×¢×•×ª ×©×’×™××” ××•×¦×’×•×ª ×‘×¢×‘×¨×™×ª

### ×”×¢×œ××ª ×ª××•× ×”
- [ ] Drag & Drop ×¢×•×‘×“
- [ ] ×œ×—×™×¦×” ×œ×‘×—×™×¨×ª ×§×•×‘×¥ ×¢×•×‘×“×ª
- [ ] ×•×•×œ×™×“×¦×™×” ××–×”×” ×§×•×‘×¥ ×’×“×•×œ ××“×™
- [ ] ×•×•×œ×™×“×¦×™×” ××–×”×” ×¡×•×’ ×§×•×‘×¥ ×œ× × ×ª××š
- [ ] Preview ××•×¦×’ ××—×¨×™ ×‘×—×™×¨×”
- [ ] ×ª××•× ×” ×¢×•×œ×” ×œ-Storage
- [ ] URL × ×©××¨ ×‘×˜×•×¤×¡
- [ ] ×”×—×œ×¤×ª ×ª××•× ×” ××•×—×§×ª ××ª ×”×™×©× ×”

### ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
- [ ] ×—×™×¤×•×© ×¢×•×‘×“
- [ ] ×¤×™×œ×˜×¨ ×§×‘×•×¦×ª ×©×¨×™×¨ ×¢×•×‘×“
- [ ] ×”×•×¡×¤×ª ×ª×¨×’×™×œ ×¢×•×‘×“×ª
- [ ] ×”×¡×¨×ª ×ª×¨×’×™×œ ×¢×•×‘×“×ª
- [ ] Drag & Drop ×œ×©×™× ×•×™ ×¡×“×¨ ×¢×•×‘×“
- [ ] ××™× ×™××•× 2 ×ª×¨×’×™×œ×™× × ××›×£

### ×©××™×¨×”
- [ ] ×™×¦×™×¨×ª ×¡×˜ ×—×“×© × ×©××¨×ª ×œ-Firestore
- [ ] ×¢×¨×™×›×ª ×¡×˜ ×§×™×™× × ×©××¨×ª ×œ-Firestore
- [ ] ×—×–×¨×” ×œ×¨×©×™××” ××—×¨×™ ×©××™×¨×”
- [ ] ×”×¡×˜ ×”×—×“×© ××•×¤×™×¢ ×‘×¨×©×™××”

### ×¨×’×¨×¡×™×”
- [ ] × ×™×”×•×œ ×ª×¨×’×™×œ×™× ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] × ×™×”×•×œ ×¦×™×•×“ ×¢×“×™×™×Ÿ ×¢×•×‘×“
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 4 - ×”×¨×—×‘×ª Store

ğŸ” Security: 
- [ ] ×ª××•× ×•×ª ×¢×•×œ×•×ª ×¨×§ ×œ××“××™×Ÿ
- [ ] URL ×©×œ ×ª××•× ×” × ×©××¨ × ×›×•×Ÿ ×‘-Firestore
```

---

# ×©×œ×‘ 4: ×”×¨×—×‘×ª Store

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×”×•×¡×¤×ª Action ×—×“×© ×œ-workoutBuilderStore ×©×××¤×©×¨ ×œ×”×•×¡×™×£ ××¡×¤×¨ ×ª×¨×’×™×œ×™× ×‘×‘×ª ××—×ª
ğŸ Done: addExercisesFromSet ×¢×•×‘×“, ×ª×¨×’×™×œ×™× ×›×¤×•×œ×™× ×œ× × ×•×¡×¤×™×, addExercise ×”×§×™×™× ×¢×“×™×™×Ÿ ×¢×•×‘×“
ğŸ“ Files: 
   - ×¢×“×›×•×Ÿ: src/domains/workouts/store/workoutBuilderStore.ts
âš ï¸ Dependencies: 
   - SelectedExercise interface ×§×™×™×
   - ×œ× ×œ×©× ×•×ª addExercise, removeExercise, selectedExercises
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/development-flow-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×”×•×¡×¤×ª Action ×—×“×© ×œ-workoutBuilderStore ×©×××¤×©×¨ ×œ×”×•×¡×™×£ ××¡×¤×¨ ×ª×¨×’×™×œ×™× ×‘×‘×ª ××—×ª ××¡×˜.

## ğŸ“ ×§×•×‘×¥ ×œ×¢×“×›×•×Ÿ
```
src/domains/workouts/store/workoutBuilderStore.ts
```

## ğŸ”§ ×©×™× ×•×™×™× × ×“×¨×©×™×

### 1. ×”×•×¡×¤×ª Interface (×× ×œ× ×§×™×™×)

```typescript
interface ExerciseToAdd {
  exerciseId: string;
  exerciseName: string;
  exerciseNameHe: string;
  imageUrl: string;
  primaryMuscle: string;
  category?: string;
  equipment?: string;
  reportType?: string;
  assistanceTypes?: AssistanceType[];
  availableBands?: string[];
}
```

### 2. ×”×•×¡×¤×ª Action

```typescript
// ×‘×ª×•×š interface WorkoutBuilderState
addExercisesFromSet: (exercises: ExerciseToAdd[]) => void;

// ×‘×ª×•×š create((set, get) => ({
addExercisesFromSet: (exercises) => {
  set((state) => {
    const currentExercises = state.selectedExercises;
    const currentIds = new Set(currentExercises.map(e => e.exerciseId));
    
    // ×¡× ×Ÿ ×ª×¨×’×™×œ×™× ×©×›×‘×¨ ×§×™×™××™×
    const newExercises = exercises.filter(ex => !currentIds.has(ex.exerciseId));
    
    if (newExercises.length === 0) return state;
    
    // ×—×©×‘ ××ª ×”-order ×”×‘×
    const maxOrder = currentExercises.reduce(
      (max, ex) => Math.max(max, ex.order || 0),
      0
    );
    
    // ×¦×•×¨ ××•×‘×™×™×§×˜×™× ××œ××™× ×¢× ×‘×¨×™×¨×•×ª ××—×“×œ
    const exercisesToAdd = newExercises.map((exercise, index) => ({
      ...exercise,
      sets: state.defaultSets || 3,
      restTime: state.defaultRestTime || 90,
      order: maxOrder + index + 1,
      // ×©×“×•×ª × ×•×¡×¤×™× ×œ×¤×™ ×”×§×™×™× ×‘-addExercise
    }));
    
    return {
      selectedExercises: [...currentExercises, ...exercisesToAdd],
    };
  });
},
```

## âš ï¸ ×–×”×™×¨×•×ª

**×œ× ×œ×©× ×•×ª:**
- `addExercise` - ×”-action ×”×§×™×™× ×œ×”×•×¡×¤×ª ×ª×¨×’×™×œ ×‘×•×“×“
- `removeExercise` - ×”-action ×”×§×™×™× ×œ×”×¡×¨×ª ×ª×¨×’×™×œ
- `selectedExercises` - ××‘× ×” ×”× ×ª×•× ×™× ×”×§×™×™×

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 4

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 4 - Store

### Action ×—×“×©
- [ ] addExercisesFromSet ××•×¡×™×£ ×ª×¨×’×™×œ×™× ×œ×¨×©×™××”
- [ ] ×ª×¨×’×™×œ×™× ×›×¤×•×œ×™× ×œ× × ×•×¡×¤×™×
- [ ] Order ××—×•×©×‘ × ×›×•×Ÿ
- [ ] ×‘×¨×™×¨×•×ª ××—×“×œ (sets, restTime) ××•×’×“×¨×•×ª

### ×¨×’×¨×¡×™×” - ×§×¨×™×˜×™!
- [ ] addExercise ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] removeExercise ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] clearExercises ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] reorderExercises ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] ×‘×—×™×¨×ª ×ª×¨×’×™×œ ×‘×•×“×“ ×‘××¡×š ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×”×ª×—×œ×ª ××™××•×Ÿ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ××™××•×Ÿ ×©×œ× (×‘×—×™×¨×” â†’ ×‘×™×¦×•×¢ â†’ ×©××™×¨×”) ×¢×“×™×™×Ÿ ×¢×•×‘×“
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 5 - UI ××©×ª××©

ğŸ” Security: N/A (×©×™× ×•×™ store ×‘×œ×‘×“)
```

---

# ×©×œ×‘ 5: ×××©×§ ××©×ª××© - RecommendedSets

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×”×•×¡×¤×ª ×¡×§×©×Ÿ "×¡×˜×™× ××•××œ×¦×™×" ×œ××¡×š ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™× ×¢× Grid ××•×¤×§×™ ×•-Popup
ğŸ Done: ×¡×§×©×Ÿ ××•×¦×’, ×œ×—×™×¦×” ×¤×•×ª×—×ª Popup ×¢× ×ª××•× ×” ×’×“×•×œ×”, "×‘×—×¨ ×¡×˜" ××•×¡×™×£ ×ª×¨×’×™×œ×™×
ğŸ“ Files: 
   - ×—×“×©: src/domains/exercises/components/RecommendedSets.tsx
   - ×—×“×©: src/domains/exercises/components/ExerciseSetCard.tsx
   - ×—×“×©: src/domains/exercises/components/ExerciseSetModal.tsx
   - ×¢×“×›×•×Ÿ: src/domains/exercises/components/ExerciseLibrary.tsx
âš ï¸ Dependencies: 
   - addExercisesFromSet ××©×œ×‘ 4
   - getActiveSets ××©×œ×‘ 1
   - âŒ ×œ× ×œ×’×¢×ª ×‘: handleToggleExercise, selectedExercises, filteredExercises
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/mobile-rtl-SKILL.md
×§×¨×: .claude/development-flow-SKILL.md
×§×¨×: .claude/qa-testing-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×”×•×¡×¤×ª ×¡×§×©×Ÿ "×¡×˜×™× ××•××œ×¦×™×" ×œ××¡×š ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×.

## âš ï¸ ×©×œ×‘ ×§×¨×™×˜×™ - ×¡×™×›×•×Ÿ ×’×‘×•×”

**×–×” ×”×©×œ×‘ ×”×›×™ ×¨×’×™×© ×‘×¤×¨×•×™×§×˜!**
- × ×•×’×¢ ×‘×§×•×‘×¥ ×§×¨×™×˜×™: ExerciseLibrary.tsx
- ×™×›×•×œ ×œ×©×‘×•×¨ ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™× ×§×™×™××ª

## ğŸ“ ×§×‘×¦×™×

### 1. ×§×•×‘×¥ ×§×¨×™×˜×™ ×œ×¢×“×›×•×Ÿ
```
src/domains/exercises/components/ExerciseLibrary.tsx
```

### 2. ×§×‘×¦×™× ×—×“×©×™×
```
src/domains/exercises/components/RecommendedSets.tsx
src/domains/exercises/components/ExerciseSetCard.tsx
src/domains/exercises/components/ExerciseSetModal.tsx
```

## ğŸ¨ ×¢×™×¦×•×‘ - Grid ××•×¤×§×™ ×¢× Popup

### ××‘× ×” ×‘×¨×©×™××” (Expanded)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ ×¡×˜×™× ××•××œ×¦×™×              (3)              [â–²] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [×›×ª×¤×™×™× â–¼]                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ [thumb]  â”‚  â”‚ [thumb]  â”‚  â”‚ [thumb]  â”‚   â†’     â”‚
â”‚   â”‚ ×¡×˜ 1     â”‚  â”‚ ×¡×˜ 2     â”‚  â”‚ ×¡×˜ 3     â”‚         â”‚
â”‚   â”‚ ××ª×—×™×œ×™× â”‚  â”‚ ××ª×§×“××™× â”‚  â”‚ ×‘×™× ×•× ×™  â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                     â”‚
â”‚   â† ×’×œ×™×œ×” ××•×¤×§×™×ª â†’                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Popup (××—×¨×™ ×œ×—×™×¦×” ×¢×œ ×›×¨×˜×™×¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ×›×ª×¤×™×™× ×‘×¡×™×¡×™                     [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚        ×ª××•× ×ª ×”×¡×˜ ×”×’×“×•×œ×”          â”‚  â”‚
â”‚  â”‚      (×¨×•××™× ××ª ×›×œ ×”×ª×¨×’×™×œ×™×)      â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  4 ×ª×¨×’×™×œ×™× â€¢ ××ª×—×™×œ×™×                   â”‚
â”‚  ×¡×˜ ×××•×–×Ÿ ×œ×¤×™×ª×•×— ×›×ª×¤×™×™× ×¢×’×•×œ×•×ª         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           ×‘×—×¨ ×¡×˜                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ×§×‘×¦×™× ×—×“×©×™×

### 1. ×›×¨×˜×™×¡ ×¡×˜ (Thumbnail) - `src/domains/exercises/components/ExerciseSetCard.tsx`

```typescript
import React from 'react';
import { ExerciseSet, DIFFICULTY_LABELS, DIFFICULTY_COLORS } from '../types/exerciseSet.types';
import { tokens } from '@/styles/tokens';

interface ExerciseSetCardProps {
  set: ExerciseSet;
  onClick: () => void;  // ×¤×•×ª×— popup, ×œ× ×‘×•×—×¨
}

export const ExerciseSetCard: React.FC<ExerciseSetCardProps> = ({
  set,
  onClick,
}) => {
  return (
    <button
      onClick={onClick}
      style={{
        // Thumbnail size
        width: '140px',
        minWidth: '140px',
        background: tokens.colors.bgCardHover,
        borderRadius: '12px',
        overflow: 'hidden',
        border: `1px solid ${tokens.colors.borderLight}`,
        cursor: 'pointer',
        padding: 0,
        textAlign: 'right',
      }}
    >
      {/* ×ª××•× ×” ×××•×–×¢×¨×ª */}
      <div
        style={{
          height: '90px',
          background: `url(${set.setImage}) center/cover`,
          position: 'relative',
        }}
      >
        {/* Badge ×¨××ª ×§×•×©×™ */}
        <div
          style={{
            position: 'absolute',
            top: '6px',
            right: '6px',
            background: 'rgba(0,0,0,0.7)',
            padding: '2px 6px',
            borderRadius: '4px',
            fontSize: '10px',
            fontWeight: '600',
            color: DIFFICULTY_COLORS[set.difficulty],
          }}
        >
          {DIFFICULTY_LABELS[set.difficulty]}
        </div>
      </div>

      {/* ××™×“×¢ */}
      <div style={{ padding: '8px 10px' }}>
        <div
          style={{
            fontSize: '13px',
            fontWeight: '600',
            color: tokens.colors.text,
            marginBottom: '2px',
            whiteSpace: 'nowrap',
            overflow: 'hidden',
            textOverflow: 'ellipsis',
          }}
        >
          {set.name}
        </div>
        <div style={{ fontSize: '11px', color: tokens.colors.textMuted }}>
          {set.exerciseIds.length} ×ª×¨×’×™×œ×™×
        </div>
      </div>
    </button>
  );
};
```

### 2. Popup ×¡×˜ - `src/domains/exercises/components/ExerciseSetModal.tsx`

```typescript
import React from 'react';
import { ExerciseSet, DIFFICULTY_LABELS, DIFFICULTY_COLORS } from '../types/exerciseSet.types';
import { tokens } from '@/styles/tokens';

interface ExerciseSetModalProps {
  set: ExerciseSet;
  onClose: () => void;
  onSelect: (exerciseIds: string[]) => void;
}

export const ExerciseSetModal: React.FC<ExerciseSetModalProps> = ({
  set,
  onClose,
  onSelect,
}) => {
  const handleSelect = () => {
    onSelect(set.exerciseIds);
    onClose();
  };

  return (
    // Overlay
    <div
      style={{
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        background: 'rgba(0, 0, 0, 0.8)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: 1000,
        padding: '20px',
      }}
      onClick={onClose}
    >
      {/* Modal */}
      <div
        style={{
          background: tokens.colors.bgCard,
          borderRadius: '16px',
          maxWidth: '400px',
          width: '100%',
          maxHeight: '80vh',
          overflow: 'hidden',
          direction: 'rtl',
        }}
        onClick={(e) => e.stopPropagation()}
      >
        {/* Header */}
        <div
          style={{
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            padding: '16px',
            borderBottom: `1px solid ${tokens.colors.borderLight}`,
          }}
        >
          <h2 style={{ margin: 0, fontSize: '18px', fontWeight: '600', color: tokens.colors.text }}>
            {set.name}
          </h2>
          <button
            onClick={onClose}
            style={{
              background: 'none',
              border: 'none',
              fontSize: '24px',
              color: tokens.colors.textMuted,
              cursor: 'pointer',
              padding: '4px',
            }}
          >
            Ã—
          </button>
        </div>

        {/* ×ª××•× ×” ×’×“×•×œ×” */}
        <div
          style={{
            width: '100%',
            height: '200px',
            background: `url(${set.setImage}) center/cover`,
          }}
        />

        {/* ××™×“×¢ */}
        <div style={{ padding: '16px' }}>
          {/* ××˜×-×“××˜×” */}
          <div
            style={{
              display: 'flex',
              gap: '12px',
              marginBottom: '12px',
              fontSize: '14px',
            }}
          >
            <span style={{ color: tokens.colors.textMuted }}>
              {set.exerciseIds.length} ×ª×¨×’×™×œ×™×
            </span>
            <span style={{ color: tokens.colors.textMuted }}>â€¢</span>
            <span style={{ color: DIFFICULTY_COLORS[set.difficulty] }}>
              {DIFFICULTY_LABELS[set.difficulty]}
            </span>
          </div>

          {/* ×ª×™××•×¨ */}
          {set.description && (
            <p
              style={{
                margin: '0 0 16px 0',
                fontSize: '14px',
                color: tokens.colors.textMuted,
                lineHeight: '1.5',
              }}
            >
              {set.description}
            </p>
          )}

          {/* ×›×¤×ª×•×¨ ×‘×—×™×¨×” */}
          <button
            onClick={handleSelect}
            style={{
              width: '100%',
              padding: '14px',
              borderRadius: '12px',
              border: 'none',
              background: tokens.colors.primary,
              color: '#0a1628',
              fontWeight: '600',
              fontSize: '16px',
              cursor: 'pointer',
            }}
          >
            ×‘×—×¨ ×¡×˜
          </button>
        </div>
      </div>
    </div>
  );
};
```

### 3. ×¡×§×©×Ÿ ×¡×˜×™× - `src/domains/exercises/components/RecommendedSets.tsx`

```typescript
import React, { useState, useEffect } from 'react';
import { ExerciseSetCard } from './ExerciseSetCard';
import { ExerciseSetModal } from './ExerciseSetModal';
import { getActiveSets } from '@/lib/firebase/exerciseSets';
import { ExerciseSet } from '../types/exerciseSet.types';
import { tokens } from '@/styles/tokens';

interface RecommendedSetsProps {
  muscleGroup?: string;
  onSelectSet: (exerciseIds: string[]) => void;
  selectedExerciseIds: string[];
}

export const RecommendedSets: React.FC<RecommendedSetsProps> = ({
  muscleGroup,
  onSelectSet,
  selectedExerciseIds,
}) => {
  const [isExpanded, setIsExpanded] = useState(false);
  const [sets, setSets] = useState<ExerciseSet[]>([]);
  const [loading, setLoading] = useState(false);
  const [filterMuscle, setFilterMuscle] = useState<string>('all');
  const [selectedSet, setSelectedSet] = useState<ExerciseSet | null>(null);

  // ×˜×¢×™× ×ª ×¡×˜×™×
  useEffect(() => {
    const loadSets = async () => {
      setLoading(true);
      try {
        const data = await getActiveSets();
        setSets(data);
      } catch (error) {
        console.error('Failed to load exercise sets:', error);
      } finally {
        setLoading(false);
      }
    };
    loadSets();
  }, []);

  // ×¡×™× ×•×Ÿ ×¡×˜×™× ×œ×¤×™ ×§×‘×•×¦×ª ×©×¨×™×¨
  const filteredSets = sets.filter(
    (set) => filterMuscle === 'all' || set.muscleGroup === filterMuscle
  );

  const handleSelectSet = (exerciseIds: string[]) => {
    onSelectSet(exerciseIds);
    setIsExpanded(false);
    setSelectedSet(null);
  };

  // ×× ××™×Ÿ ×¡×˜×™×, ×œ× ×œ×”×¦×™×’ ×›×œ×•×
  if (sets.length === 0 && !loading) {
    return null;
  }

  return (
    <>
      <div
        style={{
          margin: '0 16px 16px',
          background: tokens.colors.bgCard,
          borderRadius: '14px',
          border: `1px solid ${isExpanded ? tokens.colors.primary : tokens.colors.borderLight}`,
          overflow: 'hidden',
        }}
      >
        {/* Header - Collapsed */}
        <button
          onClick={() => setIsExpanded(!isExpanded)}
          style={{
            width: '100%',
            padding: '14px 16px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'space-between',
            background: 'none',
            border: 'none',
            cursor: 'pointer',
            color: tokens.colors.text,
          }}
        >
          <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
            <span style={{ fontSize: '18px' }}>ğŸ¯</span>
            <span style={{ fontWeight: '600', fontSize: '15px' }}>×¡×˜×™× ××•××œ×¦×™×</span>
            <span
              style={{
                background: 'rgba(0, 191, 165, 0.2)',
                padding: '2px 10px',
                borderRadius: '10px',
                fontSize: '12px',
                color: tokens.colors.primary,
                fontWeight: '600',
              }}
            >
              {sets.length}
            </span>
          </div>
          <span
            style={{
              transform: isExpanded ? 'rotate(180deg)' : 'rotate(0)',
              fontSize: '12px',
              color: tokens.colors.textMuted,
            }}
          >
            â–¼
          </span>
        </button>

        {/* Expanded Content */}
        {isExpanded && (
          <div style={{ padding: '0 12px 16px' }}>
            {/* ×¤×™×œ×˜×¨ ×§×‘×•×¦×•×ª ×©×¨×™×¨ */}
            <div
              style={{
                display: 'flex',
                gap: '8px',
                overflowX: 'auto',
                paddingBottom: '14px',
                borderBottom: `1px solid ${tokens.colors.borderLight}`,
                marginBottom: '14px',
              }}
            >
              {[
                { id: 'all', name: '×”×›×œ' },
                { id: 'shoulders', name: '×›×ª×¤×™×™×' },
                { id: 'chest', name: '×—×–×”' },
                { id: 'back', name: '×’×‘' },
                { id: 'legs', name: '×¨×’×œ×™×™×' },
                { id: 'arms', name: '×–×¨×•×¢×•×ª' },
                { id: 'core', name: '×œ×™×‘×”' },
              ].map((muscle) => (
                <button
                  key={muscle.id}
                  onClick={() => setFilterMuscle(muscle.id)}
                  style={{
                    padding: '8px 16px',
                    borderRadius: '20px',
                    border: 'none',
                    background:
                      filterMuscle === muscle.id
                        ? tokens.colors.primary
                        : 'rgba(255,255,255,0.08)',
                    color: filterMuscle === muscle.id ? '#0a1628' : tokens.colors.textMuted,
                    fontSize: '13px',
                    fontWeight: '600',
                    cursor: 'pointer',
                    whiteSpace: 'nowrap',
                  }}
                >
                  {muscle.name}
                </button>
              ))}
            </div>

            {/* ×¨×©×™××ª ×¡×˜×™× - Grid ××•×¤×§×™ */}
            {loading ? (
              <div style={{ textAlign: 'center', padding: '20px', color: tokens.colors.textMuted }}>
                ×˜×•×¢×Ÿ...
              </div>
            ) : filteredSets.length === 0 ? (
              <div style={{ textAlign: 'center', padding: '20px', color: tokens.colors.textMuted }}>
                ××™×Ÿ ×¡×˜×™× ×‘×§×˜×’×•×¨×™×” ×–×•
              </div>
            ) : (
              <div
                style={{
                  display: 'flex',
                  gap: '12px',
                  overflowX: 'auto',
                  paddingBottom: '8px',
                  // Hide scrollbar but allow scroll
                  scrollbarWidth: 'none',
                  msOverflowStyle: 'none',
                }}
              >
                {filteredSets.map((set) => (
                  <ExerciseSetCard
                    key={set.id}
                    set={set}
                    onClick={() => setSelectedSet(set)}
                  />
                ))}
              </div>
            )}
          </div>
        )}
      </div>

      {/* Modal */}
      {selectedSet && (
        <ExerciseSetModal
          set={selectedSet}
          onClose={() => setSelectedSet(null)}
          onSelect={handleSelectSet}
        />
      )}
    </>
  );
};
```

## ğŸ“ ×©×™× ×•×™×™× ×‘-ExerciseLibrary.tsx

### ××™×§×•× ×œ×”×•×¡×¤×”

××¦× ××ª ×”××§×•× **××—×¨×™ ×¤×™×œ×˜×¨ ×”×¦×™×•×“ ×•×œ×¤× ×™ ×¨×©×™××ª ×”×ª×¨×’×™×œ×™×**.

×‘×¢×¨×š ×‘××–×•×¨ ×©×œ:
```jsx
{/* Equipment filter chips */}
...

{/* â† ×›××Ÿ ×œ×”×•×¡×™×£ ××ª RecommendedSets */}

{/* Exercise list */}
```

### ×§×•×“ ×œ×”×•×¡×¤×”

```typescript
// ×‘×¨××© ×”×§×•×‘×¥ - import
import { RecommendedSets } from './RecommendedSets';
import { useWorkoutBuilderStore } from '@/domains/workouts/store/workoutBuilderStore';

// ×‘×ª×•×š ×”×§×•××¤×•× × ×˜×” - handler ×—×“×©
const addExercisesFromSet = useWorkoutBuilderStore((state) => state.addExercisesFromSet);

const handleSelectSet = (exerciseIds: string[]) => {
  // ××¦× ××ª ×”×ª×¨×’×™×œ×™× ×”××œ××™× ×œ×¤×™ ×”-IDs
  const exercisesToAdd = exercises
    .filter(ex => exerciseIds.includes(ex.id))
    .map(exercise => ({
      exerciseId: exercise.id,
      exerciseName: exercise.name,
      exerciseNameHe: exercise.nameHe,
      imageUrl: exercise.imageUrl,
      primaryMuscle: exercise.primaryMuscle || exercise.category,
      category: exercise.category,
      equipment: exercise.equipment,
      reportType: exercise.reportType,
      assistanceTypes: exercise.assistanceTypes,
      availableBands: exercise.availableBands,
    }));
  
  addExercisesFromSet(exercisesToAdd);
};

// ×‘-JSX - ××—×¨×™ ×¤×™×œ×˜×¨ ×”×¦×™×•×“
<RecommendedSets
  muscleGroup={selectedPrimaryMuscle === 'all' ? undefined : selectedPrimaryMuscle}
  onSelectSet={handleSelectSet}
  selectedExerciseIds={selectedExercises.map(e => e.exerciseId)}
/>
```

## ğŸ”´ ××” ×œ× ×œ×’×¢×ª

```typescript
// âŒ ×œ× ×œ×©× ×•×ª
handleToggleExercise  // ×”×¤×•× ×§×¦×™×” ×”×§×™×™××ª ×œ×‘×—×™×¨×ª ×ª×¨×’×™×œ ×‘×•×“×“
selectedExercises     // ××‘× ×” ×”-state
filteredExercises     // ×”×œ×•×’×™×§×” ×©×œ ×”×¤×™×œ×˜×¨×™×
```

## âœ… ×‘×“×™×§×•×ª ×œ×¤× ×™ ×¡×™×•× ×©×œ×‘ 5

```markdown
## ×‘×“×™×§×•×ª ×©×œ×‘ 5 - UI ××©×ª××©

### ×ª×¦×•×’×”
- [ ] ×¡×§×©×Ÿ "×¡×˜×™× ××•××œ×¦×™×" ××•×¤×™×¢
- [ ] Badge ×¢× ××¡×¤×¨ ×¡×˜×™× ××•×¦×’
- [ ] Collapse/expand ×¢×•×‘×“
- [ ] ×ª××•× ×•×ª ×¡×˜×™× × ×˜×¢× ×•×ª
- [ ] Badge ×¨××ª ×§×•×©×™ ××•×¦×’ ×‘×¦×‘×¢ ×”× ×›×•×Ÿ

### ×¤×™×œ×˜×¨
- [ ] ×¤×™×œ×˜×¨ ×§×‘×•×¦×•×ª ×©×¨×™×¨ ×‘×ª×•×š ×”×¡×§×©×Ÿ ×¢×•×‘×“
- [ ] "×”×›×œ" ××¦×™×’ ××ª ×›×œ ×”×¡×˜×™×
- [ ] ×‘×—×™×¨×ª ×§×‘×•×¦×” ××¡× × ×ª × ×›×•×Ÿ

### ×‘×—×™×¨×ª ×¡×˜
- [ ] ×œ×—×™×¦×” ×¢×œ "×‘×—×¨ ×¡×˜" ××•×¡×™×¤×” ×ª×¨×’×™×œ×™×
- [ ] ×¡×§×©×Ÿ × ×¡×’×¨ ××—×¨×™ ×‘×—×™×¨×”
- [ ] ×”×ª×¨×’×™×œ×™× ××¡×•×× ×™× ×›× ×‘×—×¨×™× ×‘×¨×©×™××”
- [ ] ×ª×¨×’×™×œ×™× ×›×¤×•×œ×™× ×œ× × ×•×¡×¤×™×

### ×¨×’×¨×¡×™×” - ×§×¨×™×˜×™!
- [ ] ×‘×—×™×¨×ª ×ª×¨×’×™×œ ×‘×•×“×“ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×‘×™×˜×•×œ ×‘×—×™×¨×” ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] ×¤×™×œ×˜×¨ ×©×¨×™×¨×™× (××—×•×¥ ×œ×¡×§×©×Ÿ) ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] ×¤×™×œ×˜×¨ ×¦×™×•×“ ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] ×—×™×¤×•×© ×¢×“×™×™×Ÿ ×¢×•×‘×“
- [ ] ××™× ×“×™×§×˜×•×¨ "××—×¨×•×Ÿ" ××•×¦×’ × ×›×•×Ÿ
- [ ] ×”×ª×—×œ×ª ××™××•×Ÿ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×©××™×¨×ª ××™××•×Ÿ ××ª×•×›× ×Ÿ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª

### Mobile
- [ ] Mobile 375px - ×œ× × ×—×ª×š
- [ ] Mobile 375px - ×’×œ×™×œ×” ××•×¤×§×™×ª ×‘×¤×™×œ×˜×¨×™× ×¢×•×‘×“×ª
- [ ] Mobile 375px - ×›×¨×˜×™×¡×™ ×¡×˜×™× ××•×¦×’×™× × ×›×•×Ÿ
- [ ] RTL ×ª×§×™×Ÿ ×‘×›×œ ×”××œ×× ×˜×™×
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×§×‘×¦×™× ×©×©×•× ×•]
- Tested: [×‘×“×™×§×•×ª ×©×¢×‘×¨×• ××”×¨×©×™××” ×œ××¢×œ×”]
- Next: ×©×œ×‘ 6 - ×œ×™×˜×•×© ×•×‘×“×™×§×•×ª ×¡×•×¤×™×•×ª

ğŸ” Security: N/A (××©×ª××© ×‘-rules ××©×œ×‘ 1)
```

---

# ×©×œ×‘ 6: ×œ×™×˜×•×© ×•×‘×“×™×§×•×ª ×¡×•×¤×™×•×ª

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×œ×™×˜×•×©, ×ª×™×§×•×Ÿ ×‘××’×™×, ×•×‘×“×™×§×•×ª E2E ××œ××•×ª ×œ×¤× ×™ Deploy
ğŸ Done: E2E ××œ× ×¢×•×‘×¨, npm run build ×¢×•×‘×¨, ×›×œ ×”×‘×“×™×§×•×ª ×¢×•×‘×¨×•×ª
ğŸ“ Files: 
   - ×ª×™×§×•× ×™× ×œ×¤×™ ×”×¦×•×¨×š ×‘×§×‘×¦×™× ×§×™×™××™×
âš ï¸ Dependencies: 
   - ×›×œ ×”×©×œ×‘×™× ×”×§×•×“××™× (0-5) ×”×•×©×œ××• ×‘×”×¦×œ×—×”
```

## ğŸ“– Skills ×œ×§×¨×•× ×œ×¤× ×™ ×”×ª×—×œ×”
```
×§×¨×: .claude/qa-testing-SKILL.md
```

## ğŸ¯ ××˜×¨×”
×œ×™×˜×•×©, ×ª×™×§×•×Ÿ ×‘××’×™×, ×•×‘×“×™×§×•×ª E2E ××œ××•×ª.

## ğŸ“‹ ××©×™××•×ª

### 1. Loading States
- [ ] ×˜×¢×™× ×ª ×¡×˜×™× ××¦×™×’×” spinner/skeleton
- [ ] ×”×¢×œ××ª ×ª××•× ×” ××¦×™×’×” progress
- [ ] ×©××™×¨×” ××¦×™×’×” loading ×‘×›×¤×ª×•×¨

### 2. Empty States
- [ ] ××™×Ÿ ×¡×˜×™× - ×”×•×“×¢×” ××ª××™××” ×œ××“××™×Ÿ
- [ ] ××™×Ÿ ×¡×˜×™× ×‘×§×˜×’×•×¨×™×” - ×”×•×“×¢×” ××ª××™××” ×œ××©×ª××©
- [ ] ×¡×§×©×Ÿ ×œ× ××•×¦×’ ×›×©××™×Ÿ ×¡×˜×™× ×‘×›×œ×œ

### 3. Error Handling
- [ ] ×ª×¨×’×™×œ ×©× ××—×§ ××”×¡×˜ - ×œ× ×§×•×¨×¡
- [ ] ×ª××•× ×” ×©× ××—×§×” - fallback ××•×¦×’
- [ ] ×©×’×™××ª ×¨×©×ª - ×”×•×“×¢×” ×œ××©×ª××©
- [ ] ×©×’×™××ª Storage - ×”×•×“×¢×” ×œ××“××™×Ÿ

### 4. Accessibility
- [ ] ×›×œ ×”×›×¤×ª×•×¨×™× ×œ×—×™×¦×™× ×‘××§×œ×“×ª
- [ ] ×¡×“×¨ Tab ×”×’×™×•× ×™
- [ ] contrast ××¡×¤×™×§ ×œ×˜×§×¡×˜

## âœ… ×‘×“×™×§×ª E2E ××œ××”

```markdown
## E2E Test - Full Flow

### ×”×›× ×”
- [ ] ×™×© ××©×ª××© ××“××™×Ÿ
- [ ] ×™×© ×œ×¤×—×•×ª 5 ×ª×¨×’×™×œ×™ ×›×ª×¤×™×™× ×‘××¢×¨×›×ª

### ××“××™×Ÿ - ×™×¦×™×¨×ª ×¡×˜
1. [ ] ×›× ×™×¡×” ×›××“××™×Ÿ
2. [ ] × ×™×•×•×˜ ×œ-/admin/sets
3. [ ] ×œ×—×™×¦×” "+ ×”×•×¡×£ ×¡×˜"
4. [ ] ××™×œ×•×™ ×©×: "×›×ª×¤×™×™× ×‘×¡×™×¡×™"
5. [ ] ×‘×—×™×¨×ª ×§×‘×•×¦×ª ×©×¨×™×¨: ×›×ª×¤×™×™×
6. [ ] ×‘×—×™×¨×ª ×¨××”: ××ª×—×™×œ×™×
7. [ ] ×”×¢×œ××ª ×ª××•× ×” (jpg, <2MB)
8. [ ] ×‘×—×™×¨×ª 3 ×ª×¨×’×™×œ×™×
9. [ ] ×œ×—×™×¦×” "×©××•×¨"
10. [ ] ×•×™×“×•× ×©×”×¡×˜ ××•×¤×™×¢ ×‘×¨×©×™××”

### ××©×ª××© - ×‘×—×™×¨×ª ×¡×˜
1. [ ] ×›× ×™×¡×” ×›××©×ª××© ×¨×’×™×œ
2. [ ] × ×™×•×•×˜ ×œ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
3. [ ] ×¤×ª×™×—×ª "×¡×˜×™× ××•××œ×¦×™×"
4. [ ] ×œ×—×™×¦×” "×‘×—×¨ ×¡×˜" ×¢×œ "×›×ª×¤×™×™× ×‘×¡×™×¡×™"
5. [ ] ×•×™×“×•× ×©-3 ×ª×¨×’×™×œ×™× × ×•×¡×¤×•
6. [ ] ×•×™×“×•× ×©×”×¡×§×©×Ÿ × ×¡×’×¨

### ××©×ª××© - ×”×•×¡×¤×” ×™×“× ×™×ª
1. [ ] ×”×•×¡×¤×ª ×ª×¨×’×™×œ ×‘×•×“×“ × ×•×¡×£
2. [ ] ×•×™×“×•× ×©-4 ×ª×¨×’×™×œ×™× × ×‘×—×¨×•

### ××©×ª××© - ××™××•×Ÿ
1. [ ] ×œ×—×™×¦×” "×”×ª×—×œ ××™××•×Ÿ"
2. [ ] ×•×™×“×•× ×©-4 ×ª×¨×’×™×œ×™× ×‘××™××•×Ÿ
3. [ ] ×‘×™×¦×•×¢ ×¡×˜ ××—×“ ×‘×›×œ ×ª×¨×’×™×œ
4. [ ] ×¡×™×•× ××™××•×Ÿ
5. [ ] ×•×™×“×•× ×©× ×©××¨ ×œ×”×™×¡×˜×•×¨×™×”

### ××“××™×Ÿ - ×¢×¨×™×›×”
1. [ ] ×—×–×¨×” ×œ-/admin/sets
2. [ ] ×œ×—×™×¦×” ×¢×œ "×›×ª×¤×™×™× ×‘×¡×™×¡×™"
3. [ ] ×©×™× ×•×™ ×©× ×œ-"×›×ª×¤×™×™× ×‘×¡×™×¡×™ ××¢×•×“×›×Ÿ"
4. [ ] ×©××™×¨×”
5. [ ] ×•×™×“×•× ×©×”×©× ×¢×•×“×›×Ÿ

### ××“××™×Ÿ - ××—×™×§×”
1. [ ] Toggle "×œ× ×¤×¢×™×œ" ×¢×œ ×”×¡×˜
2. [ ] ×•×™×“×•× ×©×œ× ××•×¤×™×¢ ×œ××©×ª××© ×¨×’×™×œ
```

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: [×ª×™×§×•× ×™× ×©×‘×•×¦×¢×•]
- Tested: [E2E ×¢×‘×¨, ×¨×’×¨×¡×™×” ×¢×‘×¨×”]
- Next: ×©×œ×‘ 7 - ×¢×“×›×•×Ÿ ×ª×™×¢×•×“ â†’ Deploy

ğŸ” Security: 
- [ ] ×‘×“×™×§×” ×¡×•×¤×™×ª ×©×œ rules
- [ ] ××©×ª××© ×¨×’×™×œ ×œ× ×™×›×•×œ ×œ×’×©×ª ×œ××“××™×Ÿ
```

---

# ×©×œ×‘ 7: ×¢×“×›×•×Ÿ ×ª×™×¢×•×“ ×•-Deploy

## ğŸ“ ×ª×‘× ×™×ª ×¤×ª×™×—×”
```
ğŸ¯ Goal: ×¢×“×›×•×Ÿ ×ª×™×¢×•×“, CHANGELOG, ×•×‘×™×¦×•×¢ Deploy ×™×—×™×“ ×œ-Production
ğŸ Done: ×ª×™×¢×•×“ ××¢×•×“×›×Ÿ, Deploy ×”×¦×œ×™×—, ×‘×“×™×§×” ×¢×œ Production ×¢×‘×¨×”
ğŸ“ Files: 
   - ×¢×“×›×•×Ÿ: .claude/qa-testing-SKILL.md
   - ×¢×“×›×•×Ÿ: CHANGELOG.md
âš ï¸ Dependencies: 
   - ×›×œ ×”×©×œ×‘×™× ×”×§×•×“××™× (0-6) ×”×•×©×œ××• ×‘×”×¦×œ×—×”
   - npm run build ×¢×•×‘×¨
```

## ğŸ“– Skills ×œ×¢×“×›×Ÿ
```
.claude/qa-testing-SKILL.md
```

## ğŸ“‹ ×”×•×¡×¤×•×ª ×œ×ª×™×¢×•×“

### ×”×•×¡×¤×” ×œ-qa-testing-SKILL.md

```markdown
### Exercise Sets Regression Checks

×‘×›×œ ×©×™× ×•×™ ×”×§×©×•×¨ ×œ×¡×˜×™× ××• ×œ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×:

- [ ] ×‘×—×™×¨×ª ×ª×¨×’×™×œ ×‘×•×“×“ ×¢×“×™×™×Ÿ ×¢×•×‘×“×ª
- [ ] ×‘×—×™×¨×ª ×¡×˜ ××•×¡×™×¤×” ×ª×¨×’×™×œ×™×
- [ ] ×ª×¨×’×™×œ×™× ×›×¤×•×œ×™× ×œ× × ×•×¡×¤×™×
- [ ] ×¤×™×œ×˜×¨×™× ×¢×•×‘×“×™× ×¢× ×”×¡×§×©×Ÿ ×’×œ×•×™
- [ ] Mobile 375px - ×’×œ×™×œ×” ××•×¤×§×™×ª ×‘×›×¨×˜×™×¡×™ ×¡×˜×™×
- [ ] × ×™×”×•×œ ×¡×˜×™× ×‘××“××™×Ÿ ×¢×•×‘×“
- [ ] ×”×¢×œ××ª ×ª××•× ×•×ª ×¢×•×‘×“×ª
- [ ] Drag & Drop ×œ×¡×“×¨ ×¡×˜×™× ×¢×•×‘×“
```

### ×™×¦×™×¨×ª CHANGELOG

```markdown
## [X.X.X] - YYYY-MM-DD

### Added
- ×¡×˜×™× ××•××œ×¦×™× - ×™×›×•×œ×ª ×œ××“××™×Ÿ ×œ×”×’×“×™×¨ ×¡×˜×™× ××•×›× ×™× ×©×œ ×ª×¨×’×™×œ×™×
- ×××©×§ × ×™×”×•×œ ×¡×˜×™× ×‘××“××™×Ÿ ×¤×× ×œ ×¢× Drag & Drop
- ×¡×§×©×Ÿ "×¡×˜×™× ××•××œ×¦×™×" ×‘××¡×š ×‘×—×™×¨×ª ×ª×¨×’×™×œ×™×
- ×©×™× ×•×™ UI ×œ×©×•×¨×ª ×‘×—×™×¨×ª ××¦×‘ (×¢×›×©×™×•/×œ×”×™×•×/×ª××¨×™×š)

### Changed
- ×©×•×¨×ª ×‘×—×™×¨×ª ××¦×‘ ×”××™××•×Ÿ - 3 ×›×¤×ª×•×¨×™× ×‘×©×•×¨×” ××—×ª

### Technical
- Collection ×—×“×©: exerciseSets
- Firebase Storage: exercise-sets/
- Action ×—×“×©: addExercisesFromSet
```

## ğŸš€ Deploy ×œ-Production

### ×œ×¤× ×™ Deploy - ×¦'×§×œ×™×¡×˜:
```bash
npm run build  # ×—×™×™×‘ ×œ×¢×‘×•×¨ ×‘×œ×™ errors!
```
- [ ] E2E ××œ× ×¢×‘×¨ ××§×•××™×ª
- [ ] ×›×œ ×”×‘×“×™×§×•×ª ××›×œ ×”×©×œ×‘×™× ×¢×‘×¨×•
- [ ] CHANGELOG ××¢×•×“×›×Ÿ
- [ ] qa-testing-SKILL.md ××¢×•×“×›×Ÿ

### ×‘×™×¦×•×¢ Deploy:
```bash
firebase deploy
```

### ××—×¨×™ Deploy - ×‘×“×™×§×•×ª Production:
- [ ] ×”××¤×œ×™×§×¦×™×” ×¢×•×œ×”
- [ ] ×™×¦×™×¨×ª ×¡×˜ ×‘××“××™×Ÿ ×¢×•×‘×“×ª
- [ ] ×‘×—×™×¨×ª ×¡×˜ ×›××©×ª××© ×¢×•×‘×“×ª
- [ ] ××™××•×Ÿ ×©×œ× ×¢×•×‘×“
- [ ] Mobile ×¢×•×‘×“

## ğŸ“ ×ª×‘× ×™×ª ×¡×™×•× (×œ××œ× ××—×¨×™ ×‘×™×¦×•×¢)
```
ğŸ“‹ Summary:
- Changed: ×ª×™×¢×•×“ ××¢×•×“×›×Ÿ, CHANGELOG ××¢×•×“×›×Ÿ
- Tested: Production ×‘×“×™×§×•×ª ×¢×‘×¨×•
- Next: âœ… ×¤×¨×•×™×§×˜ ×”×•×©×œ×!

ğŸ” Security: 
- [ ] ×‘×“×™×§×” ×¡×•×¤×™×ª ×¢×œ Production
```

---

# ×¡×™×›×•× ×§×‘×¦×™×

## ×§×‘×¦×™× ×—×“×©×™× (~12)
```
src/domains/exercises/types/exerciseSet.types.ts
src/lib/firebase/exerciseSets.ts
src/lib/firebase/exerciseSetStorage.ts
src/pages/admin/ExerciseSetsPage.tsx
src/domains/admin/components/ExerciseSetManager.tsx
src/domains/admin/components/ExerciseSetForm.tsx
src/domains/admin/components/ExerciseSetExercisePicker.tsx
src/domains/admin/components/ExerciseSetImageUpload.tsx
src/domains/exercises/components/RecommendedSets.tsx
src/domains/exercises/components/ExerciseSetCard.tsx
```

## ×§×‘×¦×™× ×œ×¢×“×›×•×Ÿ (~6)
```
firestore.rules
storage.rules
src/App.tsx
src/domains/admin/components/AdminLayout.tsx (××• ×“×•××”)
src/domains/workouts/store/workoutBuilderStore.ts
src/domains/exercises/components/ExerciseLibrary.tsx
.claude/qa-testing-SKILL.md
```

---

# ×ª×œ×•×™×•×ª ×‘×™×Ÿ ×©×œ×‘×™×

```
×©×œ×‘ 0 (Toggle Row)
    â”‚
    â””â”€â”€â†’ ×©×œ×‘ 1 (×ª×©×ª×™×ª)
              â”‚
              â”œâ”€â”€â†’ ×©×œ×‘ 2 (××“××™×Ÿ ×¨×©×™××”)
              â”‚         â”‚
              â”‚         â””â”€â”€â†’ ×©×œ×‘ 3 (××“××™×Ÿ ×˜×•×¤×¡)
              â”‚
              â””â”€â”€â†’ ×©×œ×‘ 4 (Store)
                        â”‚
                        â””â”€â”€â†’ ×©×œ×‘ 5 (UI ××©×ª××©)
                                  â”‚
                                  â””â”€â”€â†’ ×©×œ×‘ 6 (×œ×™×˜×•×©)
                                            â”‚
                                            â””â”€â”€â†’ ×©×œ×‘ 7 (×ª×™×¢×•×“)
```

**××¤×©×¨ ×‘××§×‘×™×œ:** ×©×œ×‘×™× 2+3 (××“××™×Ÿ) ×•-4 (Store) ××—×¨×™ ×©×œ×‘ 1

---

# ×”×¢×¨×•×ª ×—×©×•×‘×•×ª ×œ×¡×•×›×Ÿ

1. **×‘×›×œ ×©×œ×‘** - ×§×¨× ××ª ×”-Skills ×”×¨×œ×•×•× ×˜×™×™×
2. **×‘×›×œ ×©×™× ×•×™ ×‘×§×•×‘×¥ ×§×™×™×** - ×”×¨×¥ ×‘×“×™×§×•×ª ×¨×’×¨×¡×™×”
3. **×‘×›×œ ×©×™× ×•×™ UI** - ×‘×“×•×§ Mobile 375px
4. **×œ×¤× ×™ ××¢×‘×¨ ×œ×©×œ×‘ ×”×‘×** - ×•×•×“× ×©×›×œ ×”×‘×“×™×§×•×ª ×¢×•×‘×¨×•×ª
5. **×× ××©×”×• × ×©×‘×¨** - ×¢×¦×•×¨ ×•×ª×§×Ÿ ×œ×¤× ×™ ×©×××©×™×›×™×
