# CLAUDE.md – GymIQ Control File

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║   🚨 הנחיה ראשונה לכל סשן - חובה!                                            ║
║                                                                              ║
║   הפעל: start                                                                ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

מסמך שליטה עליון - חובה לקרוא לפני כל פעולה.

---

## 1. מצבי עבודה

| מצב | תיאור | מותר | אסור |
|-----|-------|------|------|
| **Builder** | כתיבת קוד | כתיבה, עריכה, יצירת קבצים | שינוי מסמכי תיעוד |
| **Reviewer** | סקירה בלבד | קריאה, הערות, דיווח | שינוי קוד או מסמכים |
| **Documentation** | עדכון תיעוד | עריכת MD files | שינוי קוד מקור |

---

## 2. פורמט פתיחת סשן (חובה!)

כל סשן חייב להתחיל בהצהרה:

```
✅ קראתי את CLAUDE.md
---
מצב: [Builder/Reviewer/Documentation]
משימה: [תיאור קצר]
קבצים שישתנו: [רשימה]
קבצים תלויים: [קבצים שמשתמשים בקבצים שישתנו]
זרימת משתמש: דשבורד → [מסך 1] → [מסך 2] → [יעד]
---
```

**אם הסוכן לא פתח בפורמט הזה - להזכיר לו להפעיל start!**

---

## 3. עקרונות יסוד

| עיקרון | פירוט |
|--------|-------|
| **Mobile First** | כל פיתוח נבדק קודם במסך 375px |
| **אין ניחושים** | לא ברור? סמן TBD ושאל |
| **אין Feature Complete בלי בדיקות** | לא לדווח "סיימתי" בלי לבדוק |
| **מקור אמת אחד** | עיצוב רק מ-tailwind.config.js |
| **בדיקת נתונים** | לא רק UI - ודא שנתונים אמיתיים מופיעים |

---

## 4. מניעת רגרסיה - חוקי ברזל

### לקחים מהעבר:
- **Date Picker נעלם** - שינוי ניווט דילג על מסך עם פיצ'ר
- **צבעים לא עובדים** - שמות classes לא תאמו ל-tokens
- **נתונים לא מופיעים** - המסך נטען אבל לא בדקנו שיש data

### לפני כל שינוי:
```bash
# מפה תלויות
grep -r "ComponentName" src/

# מפה זרימה
דשבורד → [?] → [?] → [יעד]

# ודא class קיים
grep -r "class-name" tailwind.config.js
```

### אחרי כל שינוי:
- בדיקת E2E מהדשבורד
- בדיקה ויזואלית במובייל
- אין שגיאות בקונסול
- נתונים אמיתיים מופיעים (לא רק UI)

---

## 5. רמות אישור

### Level 1: Safe (ללא אישור)
- קריאת קבצים
- npm run build / lint
- הרצת בדיקות

### Level 2: Guarded (דיווח לפני ואחרי)
- שינוי Store
- שינוי Types
- שינוי ניווט
- מחיקת קוד מעל 20 שורות

### Level 3: Restricted (אישור מפורש)
- שינוי קבצי config
- הוספת/הסרת dependencies
- פעולות Firebase/Production

---

## 6. צ'קליסט סיום משימה

```
□ פונקציונלי:
  □ הפיצ'ר החדש עובד
  □ פיצ'רים קיימים לא נשברו
  □ הזרימה המלאה עובדת
  □ נתונים אמיתיים מופיעים (לא רק UI)

□ טכני:
  □ אין שגיאות בקונסול
  □ אין שגיאות TypeScript
  □ classes קיימים ב-tokens

□ ויזואלי:
  □ נבדק במובייל (375px)
  □ RTL תקין
  □ צבעים נכונים

□ תיעוד:
  □ CHANGELOG.md עודכן (אם יש שינוי משמעותי)
```

---

## 7. עדכון CHANGELOG (חובה בסוף סשן!)

אחרי כל סשן עם שינויים משמעותיים:

1. **קרא את CHANGELOG.md** כדי להבין את המבנה והגירסה הנוכחית
2. הוסף תחת הגירסה הנוכחית:
   - 🚀 פיצ'רים חדשים
   - 🐛 תיקוני באגים
   - ✏️ קבצים שהשתנו
3. אם זו גירסה חדשה - צור סקציה חדשה **לפי התבנית בקובץ**
4. עדכן את ה-Git Commit אם רלוונטי

**❌ לא לדווח "סיימתי" בלי לעדכן CHANGELOG!**

---

## 8. איסורים מוחלטים

❌ לא ליצור קבצי CSS חדשים
❌ לא לשנות tailwind.config.js בלי אישור
❌ לא להשתמש ב-any
❌ לא להוסיף dependencies בלי אישור
❌ לא לשנות ניווט בלי למפות זרימה
❌ לא להשתמש ב-class שלא קיים ב-tokens
❌ לא לדווח "סיימתי" בלי בדיקה אמיתית
❌ לא לדווח "המסך עובד" בלי לראות נתונים אמיתיים

---

## 9. קישורים למסמכים

| מסמך | תיאור |
|------|-------|
| [architecture.md](./architecture.md) | מבנה טכני |
| [style_and_ui.md](./style_and_ui.md) | עיצוב וסגנון |
| [skills.md](./skills.md) | פקודות זמינות |
| [CHANGELOG.md](./CHANGELOG.md) | היסטוריית גירסאות |

---

## 10. תבנית הנחיה לתיקון באג

כשמדווחים על באג, להשתמש בתבנית הזו:

```
================================================================================
🚨 באג: [תיאור קצר]
================================================================================

הבעיה:
- [תיאור מה קורה]
- [מה ציפינו שיקרה]

תחקיר (לפני תיקון):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1. בדוק מאיפה הנתונים מגיעים
2. הוסף console.log לראות מה חוזר
3. בדוק את הלוגיקה

הראה לי:
- את ה-query/function הרלוונטי
- את התוצאה (console.log)
- את מבנה הנתונים
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

בדיקות אחרי התיקון:
□ [בדיקה 1]
□ [בדיקה 2]
□ [בדיקה 3]
================================================================================
```

---

```
══════════════════════════════════════════════════════════════════════════════
סוף המסמך - כל שינוי דורש אישור מפורש
גירסה: 1.1.0 | עדכון אחרון: 2026-01-06
══════════════════════════════════════════════════════════════════════════════
```
