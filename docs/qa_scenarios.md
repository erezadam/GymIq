# QA Scenarios – GymIQ

קובץ בדיקות מקיף למניעת רגרסיות.
**חובה לעבור על הסעיפים הרלוונטיים אחרי כל שינוי!**

---

## 📱 מסכים ופיצ'רים

### 1. דשבורד ראשי (Dashboard)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 1.1 | קוביות סטטיסטיקה | מוצגות נכון עם נתונים | □ |
| 1.2 | כפתור "התחל אימון" | מוביל לבחירת תרגילים | □ |
| 1.3 | כפתור "תוכנית אימונים" | מוביל למסך תוכניות | □ |
| 1.4 | כפתור "שיאים אישיים" | מוביל למסך PR | □ |
| 1.5 | כפתור "ספריית תרגילים" | מוביל לספרייה | □ |
| 1.6 | שם המשתמש מוצג | נכון לפי הלוגין | □ |

---

### 2. מסך תוכנית אימונים (Workout Planning)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 2.1 | רשימת אימונים | מוצגת עם כל האימונים | □ |
| 2.2 | כרטיס אימון - לחיצה | מרחיב/מכווץ את הכרטיס | □ |
| 2.3 | **כפתור מחיקה (🗑)** | **מופיע בכל כרטיס** | □ |
| 2.4 | מחיקת אימון - אישור | popup אישור מופיע | □ |
| 2.5 | מחיקת אימון - ביצוע | אימון נמחק ונעלם מהרשימה | □ |
| 2.6 | מחיקת אימון - toast | הודעת הצלחה מופיעה | □ |
| 2.7 | כפתור "המשך אימון" | עובד לאימון in_progress | □ |
| 2.8 | כפתור "בצע אימון" | עובד לאימון completed | □ |
| 2.9 | סטטוס אימון - צבעים | ירוק/צהוב/אדום לפי סטטוס | □ |
| 2.10 | פרטי תרגילים | מוצגים בהרחבת כרטיס | □ |
| 2.11 | תאריך אימון | מוצג נכון | □ |
| 2.12 | קבוצות שרירים | מוצגות נכון | □ |
| 2.13 | **קבוצות שרירים בעברית** | **מוצגות בעברית (זרועות • גב • חזה)** | □ |
| 2.14 | **סטטוס "ללא דיווח"** | **מופיע במקום "מבוטל"** | □ |
| 2.15 | **"המשך לאימון" ללא דיווח** | **טוען תרגילים עם סטים ריקים** | □ |

---

### 3. מסך בחירת תרגילים (Exercise Selection)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 3.1 | רשימת תרגילים | מוצגת מקובצת לפי שריר | □ |
| 3.2 | תמונות תרגילים | נטענות מ-GitHub | □ |
| 3.3 | בחירת תרגיל | מסומן ומתווסף לרשימה | □ |
| 3.4 | ביטול בחירה | מסיר מהרשימה | □ |
| 3.5 | מונה תרגילים נבחרים | מתעדכן בזמן אמת | □ |
| 3.6 | חיפוש תרגיל | עובד לפי שם | □ |
| 3.7 | סינון לפי שריר | עובד נכון | □ |
| 3.8 | **שדה תאריך** | **אופציונלי - לאימון עתידי** | □ |
| 3.9 | כפתור "התחל אימון" | יוצר אימון ומעביר למסך | □ |

---

### 4. מסך אימון פעיל (Active Workout)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 4.1 | טיימר אימון | רץ ומתעדכן | □ |
| 4.2 | רשימת תרגילים | מוצגת מקובצת לפי שריר | □ |
| 4.3 | **תרגיל חימום** | **מופיע ראשון אוטומטית** | □ |
| 4.4 | חימום - משך דקות | ניתן להזין | □ |
| 4.5 | חימום - מחיקה | ניתן למחוק | □ |
| 4.6 | כרטיס תרגיל - הרחבה | לחיצה מרחיבה לדיווח | □ |
| 4.7 | כרטיס תרגיל - כיווץ | לחיצה מכווצת | □ |
| 4.8 | דיווח סט - משקל | input עובד | □ |
| 4.9 | דיווח סט - חזרות | input עובד | □ |
| 4.10 | **הוספת סט** | **כפתור "+" עובד** | □ |
| 4.11 | מחיקת סט | כפתור X עובד | □ |
| 4.12 | "אימון אחרון" | מציג נתונים מהפעם הקודמת | □ |
| 4.13 | סיום תרגיל | מסמן כהושלם | □ |
| 4.14 | מונה תרגילים | X/Y מתעדכן | □ |
| 4.15 | **הוספת תרגיל תוך כדי** | **לא מאבד נתונים קיימים** | □ |
| 4.16 | כפתור "סיים אימון" | שומר ומעביר לסיכום | □ |
| 4.17 | כפתור יציאה/ביטול | שואל אישור | □ |
| 4.18 | **כפתור הערות** | **מופיע ליד "סיום תרגיל"** | □ |
| 4.19 | **מודל הערות** | **נפתח בלחיצה על כפתור** | □ |
| 4.20 | **שמירת הערות** | **נשמר אוטומטית + ל-Firebase** | □ |
| 4.21 | **נתוני אימון אחרון** | **מוצג באדום מתחת לתמונה** | □ |
| 4.22 | **פורמט אימון אחרון** | **"אימון אחרון: X חזרות @ Ykg"** | □ |

---

### 5. מסך סיום אימון (Workout Summary) - פופאפ סיכום

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 5.1 | **פופאפ סיכום קופץ** | **מופיע אוטומטית בסיום** | □ |
| 5.2 | סיכום זמן אימון | משך האימון מוצג | □ |
| 5.3 | סיכום תרגילים | כמות תרגילים שבוצעו | □ |
| 5.4 | סיכום סטים | סה"כ סטים שדווחו | □ |
| 5.5 | **שדה הזנת קלוריות** | **input להזנה ידנית** | □ |
| 5.6 | נפח כולל (Volume) | סכום משקל×חזרות | □ |
| 5.7 | כפתור "שמור" | שומר ל-Firebase | □ |
| 5.8 | כפתור "ביטול/סגור" | סוגר בלי שמירה | □ |
| 5.9 | שמירה להיסטוריה | כולל קלוריות | □ |
| 5.10 | ניווט לדשבורד | אחרי שמירה | □ |
| 5.11 | toast הצלחה | "האימון נשמר בהצלחה" | □ |

---

### 6. מסך שיאים אישיים (Personal Records)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 6.1 | קוביות סטטיסטיקה | תרגילים שונים / שיפורים | □ |
| 6.2 | רשימת תרגילים | מוצגת עם שיאים | □ |
| 6.3 | משקל מקסימלי | מוצג לכל תרגיל | □ |
| 6.4 | חזרות במשקל מקס | מוצגות | □ |
| 6.5 | תאריך שיא | מוצג | □ |
| 6.6 | אינדיקטור שיפור | חץ ירוק/כתום | □ |
| 6.7 | מיון לפי תאריך | עובד | □ |
| 6.8 | מיון לפי שיפור | עובד | □ |
| 6.9 | תמונות תרגילים | מוצגות | □ |

---

### 7. ספריית תרגילים (Exercise Library)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 7.1 | רשימת תרגילים | מוצגת מלאה | □ |
| 7.2 | קיבוץ לפי שריר | עובד נכון | □ |
| 7.3 | תמונות תרגילים | נטענות | □ |
| 7.4 | חיפוש | עובד | □ |
| 7.5 | סינון | עובד | □ |
| 7.6 | פרטי תרגיל | מוצגים בלחיצה | □ |

---

### 8. מסך אדמין (Admin)

| # | פיצ'ר | בדיקה | סטטוס |
|---|-------|-------|-------|
| 8.1 | ניהול תרגילים | הוספה/עריכה/מחיקה | □ |
| 8.2 | ניהול משתמשים | רשימה מוצגת | □ |
| 8.3 | ניהול קבוצות שרירים | עובד | □ |
| 8.4 | **ניהול ציוד** | **הוספה/עריכה/מחיקה** | □ |
| 8.5 | ציוד - שם עברית | שדה nameHe עובד | □ |
| 8.6 | ציוד - שם אנגלית | שדה nameEn עובד | □ |
| 8.7 | **אייקון שריר - URL** | **שדה קישור לתמונה** | □ |
| 8.8 | אייקון שריר - preview | תצוגה מקדימה 48x48 | □ |
| 8.9 | אייקון שריר - fallback | אם URL לא תקין מציג 💪 | □ |

---

## 🔄 תרחישי E2E (End-to-End)

### תרחיש A: אימון חדש מלא
```
1. [ ] התחברות לאפליקציה
2. [ ] לחיצה על "התחל אימון"
3. [ ] בחירת 3 תרגילים
4. [ ] התחלת אימון
5. [ ] דיווח חימום (5 דקות)
6. [ ] דיווח סט לתרגיל 1
7. [ ] הוספת סט לתרגיל 1
8. [ ] דיווח סט לתרגיל 2
9. [ ] סיום אימון
10. [ ] בדיקה שנשמר בהיסטוריה
```

### תרחיש B: המשך אימון קיים
```
1. [ ] כניסה לתוכנית אימונים
2. [ ] פתיחת אימון בסטטוס "בתהליך"
3. [ ] לחיצה על "המשך אימון"
4. [ ] וידוא שכל הנתונים הקיימים נטענו
5. [ ] הוספת סטים חדשים
6. [ ] סיום אימון
```

### תרחיש C: מחיקת אימון
```
1. [ ] כניסה לתוכנית אימונים
2. [ ] לחיצה על כפתור מחיקה (🗑)
3. [ ] אישור במסך popup
4. [ ] וידוא שהאימון נעלם מהרשימה
5. [ ] רענון דף - האימון לא חוזר
```

### תרחיש D: הוספת תרגיל תוך כדי אימון
```
1. [ ] התחלת אימון עם 2 תרגילים
2. [ ] דיווח סטים לתרגיל 1
3. [ ] לחיצה על "הוסף תרגיל"
4. [ ] בחירת תרגיל נוסף
5. [ ] חזרה לאימון
6. [ ] וידוא שנתוני תרגיל 1 לא נמחקו!
7. [ ] המשך דיווח
```

### תרחיש E: טעינת נתונים מהיסטוריה (v1.10.2)
```
1. [ ] התחלת אימון עם 2+ תרגילים
2. [ ] דיווח סטים (משקל + חזרות) לכל תרגיל
3. [ ] לחיצה על "יציאה" (לא סיום)
4. [ ] אישור יציאה - שמירה כ-in_progress
5. [ ] מעבר להיסטוריה
6. [ ] לחיצה על "המשך" באימון ה-in_progress
7. [ ] וידוא שכל הנתונים שדווחו מוצגים!
8. [ ] וידוא שאין קריאות כפולות בקונסול
```

### תרחיש F: הערות לתרגיל (v1.10.2)
```
1. [ ] פתיחת אימון פעיל
2. [ ] פתיחת תרגיל (הרחבה)
3. [ ] לחיצה על כפתור "הערות"
4. [ ] הזנת טקסט הערה
5. [ ] סגירת המודל
6. [ ] וידוא שכפתור הערות ירוק (יש הערה)
7. [ ] פתיחת המודל שוב - וידוא שההערה נשמרה
8. [ ] סיום אימון ובדיקה בהיסטוריה
```

### תרחיש G: תרגילי עזרה - גרביטון (v1.11.0)
```
1. [ ] יצירת אימון עם תרגיל שתומך בגרביטון (עליות מתח וכו')
2. [ ] פתיחת כרטיס התרגיל - מוצגים כפתורי בחירה
3. [ ] בחירת "גרביטון" - צבע הכפתור משתנה לירוק
4. [ ] שדות הדיווח משתנים: "עזרה (ק״ג)" + "חזרות"
5. [ ] דיווח משקל עזרה (למשל 20 ק"ג)
6. [ ] דיווח חזרות
7. [ ] הוספת סט נוסף - שדות נשארים כמו קודם
8. [ ] סיום תרגיל - נשמר כירוק
9. [ ] בדיקת היסטוריה - מוצג "עזרה: X ק״ג" בטורקיז
10. [ ] המשך אימון - נתוני הגרביטון נשמרו
```

### תרחיש H: תרגילי עזרה - גומיות (v1.11.0)
```
1. [ ] יצירת אימון עם תרגיל שתומך בגומיות
2. [ ] פתיחת כרטיס התרגיל - מוצגים כפתורי בחירה
3. [ ] בחירת "גומיות" - צבע הכפתור משתנה לסגול
4. [ ] מוצגת רשימת גומיות זמינות (לפי התרגיל)
5. [ ] בחירת גומייה - הכפתור מסומן
6. [ ] דיווח חזרות
7. [ ] שינוי גומייה לאחרת - הבחירה הקודמת מתבטלת
8. [ ] סיום תרגיל - נשמר כירוק
9. [ ] בדיקת היסטוריה - מוצג "גומייה: שם" בסגול
10. [ ] המשך אימון - בחירת הגומייה נשמרה
```

### תרחיש I: תרגיל רגיל (ללא עזרה) (v1.11.0)
```
1. [ ] יצירת אימון עם תרגיל רגיל (לא תומך בעזרה)
2. [ ] פתיחת כרטיס התרגיל - אין כפתורי בחירה
3. [ ] שדות דיווח רגילים: "משקל" + "חזרות"
4. [ ] דיווח רגיל עובד כמו תמיד
5. [ ] סיום אימון ושמירה להיסטוריה
```

### תרחיש J: תרגיל גמיש - ברירת מחדל (v1.11.0)
```
1. [ ] יצירת אימון עם תרגיל שתומך בגרביטון+גומיות
2. [ ] פתיחת כרטיס - "ברירת מחדל" מסומן (או לא מסומן כלום)
3. [ ] לחיצה על "ברירת מחדל" - דיווח משקל+חזרות רגיל
4. [ ] אפשר לעבור בין המצבים בכל רגע
5. [ ] סיום תרגיל ושמירה
6. [ ] בדיקת היסטוריה - מוצג משקל רגיל
```

### תרחיש K: ניהול סוגי גומיות (Admin) (v1.11.0)
```
1. [ ] כניסה כאדמין ל-/admin/bands
2. [ ] רשימת גומיות מוצגת
3. [ ] הוספת גומייה חדשה (שם, צבע, רמת התנגדות)
4. [ ] עריכת גומייה קיימת
5. [ ] השבתת גומייה (isActive = false)
6. [ ] מחיקת גומייה
7. [ ] בדיקה שגומיות פעילות מופיעות בתרגיל באימון
```

---

## ⚠️ באגים ידועים / נקודות רגישות

| באג | תיאור | סטטוס |
|-----|-------|-------|
| #001 | איבוד נתונים בהוספת תרגיל תוך כדי אימון | לתקן |
| #002 | כפתור מחיקת אימון נעלם | ✅ תוקן |
| #003 | PWA לא מתעדכן (cache) | ידוע |
| #004 | הבדלי נתונים desktop vs mobile | לחקור |
| #005 | פופאפ סיכום אימון + קלוריות נעלם | ✅ תוקן |
| #006 | קלוריות לא מוצגות בהיסטוריה | ✅ תוקן (v1.8) |
| #007 | נתונים לא נטענים מהיסטוריה לאימון חלקי | ✅ תוקן (v1.10.2) |
| #008 | NotesModal לא מחובר ל-ExerciseCard | ✅ תוקן (v1.10.2) |

---

## 📋 צ'קליסט לפני Deploy

```
□ כל הפיצ'רים העיקריים עובדים
□ אין שגיאות בקונסול
□ נבדק במובייל (375px)
□ נבדק בדסקטופ
□ RTL תקין
□ כל הכפתורים לחיצים (44x44 לפחות)
□ טיימרים עובדים
□ שמירה ל-Firebase עובדת
□ אין רגרסיות מהשינוי האחרון
```

---

## 🔧 הנחיות לסוכן

**אחרי כל שינוי בקומפוננטה, חובה לבדוק:**

1. את כל הפיצ'רים של אותה קומפוננטה (מהטבלה למעלה)
2. את הזרימה המלאה מהדשבורד עד היעד
3. שאין שגיאות TypeScript
4. שאין שגיאות בקונסול
5. במובייל 375px

**אם השינוי נוגע ב:**
- State/Store → בדוק את כל המסכים שמשתמשים בו
- Types → בדוק קומפילציה מלאה
- Services → בדוק CRUD מלא
- UI בלבד → בדוק ויזואלית + פונקציונליות

---

```
═══════════════════════════════════════════════════════════════════════════════
עדכון אחרון: 12/01/2026
גרסה: 1.9.0
═══════════════════════════════════════════════════════════════════════════════
```
