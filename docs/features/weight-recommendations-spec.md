```
קרא את קובץ CLAUDE.md בתיקיית הפרויקט והצהר שקראת אותו לפני שתתחיל לעבוד.

משימה: הוסף מערכת המלצות משקל לאימונים עצמאיים

---

סקירה כללית:

בסוף כל אימון עצמאי, המערכת בודקת לכל תרגיל משקל שבוצע - האם ב-3 האימונים האחרונים (כולל הנוכחי) המתאמן ביצע את אותו משקל ואותו חזרות בכל הסטים.
אם כן - נשמרת המלצה להגדיל משקל.
ההמלצה מוצגת כשורה סגולה במסך אימון פעיל, מתחת לשורה האדומה.

המערכת כוללת 2 חלקים:
1. חישוב ושמירה - רץ בסוף אימון
2. תצוגה - קורא מ-Firestore בפתיחת אימון

---

חלק 1: חישוב ושמירה (בסוף אימון)

מתי רץ: כשמתאמן מסיים אימון עצמאי (לא אימון מאמן, לא אימון AI)

לוגיקה לכל תרגיל שבוצע באימון:

1. סנן: רק תרגילים מבוססי משקל (trackingType === 'weight'). התעלם מ-bodyweight, זמן, חזרות בלבד.

2. שלוף את 2 האימונים העצמאיים הקודמים שכוללים את אותו תרגיל (+ האימון הנוכחי = 3 סה"כ). רק סטים שהושלמו (isCompleted === true).

3. אם אין 3 אימונים → recommend: false

4. אם יש 3 אימונים, בדוק שכולם זהים לחלוטין:
   - אותו מספר סטים ב-3 האימונים
   - אותו משקל בכל סט בכל 3 האימונים
   - אותו מספר חזרות בכל סט בכל 3 האימונים
   
   דוגמה שמפעילה (recommend: true):
     אימון 1: סט1=40kg×10, סט2=40kg×10, סט3=40kg×10
     אימון 2: סט1=40kg×10, סט2=40kg×10, סט3=40kg×10
     אימון 3: סט1=40kg×10, סט2=40kg×10, סט3=40kg×10
   
   דוגמה שלא מפעילה (recommend: false):
     אימון 1: סט1=40kg×10, סט2=40kg×10, סט3=40kg×10
     אימון 2: סט1=40kg×10, סט2=40kg×10, סט3=40kg×8
     אימון 3: סט1=40kg×10, סט2=40kg×10, סט3=40kg×10

5. שמור את התוצאה ב-Firestore

מיקום שמירה: users/{uid}/exerciseRecommendations (מסמך אחד)

מבנה המסמך:
{
  "exercise_123": { "recommend": true, "updatedAt": Timestamp },
  "exercise_456": { "recommend": false, "updatedAt": Timestamp },
  ...
}

כתיבה: בסוף אימון, עדכן רק את התרגילים שבוצעו באימון הזה (merge: true).
תרגילים אחרים במסמך לא נפגעים.

---

חלק 2: תצוגה (במסך אימון פעיל)

מתי נטען: בפתיחת מסך אימון פעיל - קריאה אחת של המסמך exerciseRecommendations

תנאי הצגה:
1. האימון הוא אימון עצמאי (לא מאמן, לא AI)
2. לתרגיל הנוכחי יש recommend: true במסמך

מיקום: מתחת לשורה האדומה (lastWorkoutData)

עיצוב:
- צבע רקע: rgba(168, 85, 247, 0.1)
- צבע גבול: rgba(168, 85, 247, 0.3)
- צבע טקסט: #A855F7
- טקסט: "💡 מומלץ להגדיל משקל"
- כיוון: RTL
- סגנון זהה לשורה האדומה (אותו padding, margin, border-radius, font-size)

אם recommend: false או שאין נתון לתרגיל → לא מציג כלום

---

מה לא לשנות:
- לא לגעת בשורה האדומה הקיימת
- לא לגעת במסך אימון AI (שם יש מערכת המלצות נפרדת)
- לא לגעת באימוני מאמן
- לא לשנות מבנה מסמכי אימונים קיימים

---

סדר עבודה:

שלב 1: מצא את הפונקציה שרצה בסיום אימון (workout completion) והוסף שם את לוגיקת החישוב
שלב 2: צור את פונקציית הבדיקה שמשווה 3 אימונים
שלב 3: הוסף קריאת המסמך בפתיחת מסך אימון פעיל
שלב 4: הוסף את השורה הסגולה בקומפוננטה שמציגה את השורה האדומה

---

בדיקות לפני סיום:

1. הראה לי את הקוד המדויק שהוספת ואת הנתיב המלא לכל קובץ ששינית
2. וודא npm run build עובר בלי שגיאות
3. תרחיש 1: תרגיל משקל עם 3 אימונים זהים → שורה סגולה מופיעה
4. תרחיש 2: תרגיל משקל עם הבדל באחד הסטים → שורה לא מופיעה
5. תרחיש 3: תרגיל bodyweight/זמן → שורה לא מופיעה
6. תרחיש 4: אימון AI או מאמן → שורה לא מופיעה
7. תרחיש 5: תרגיל עם פחות מ-3 אימונים קודמים → שורה לא מופיעה
8. בצע deploy מלא
9. דווח מה בדיוק שינית בכל קובץ
```
